{"items": [{"tags": ["docker", "virtual-machine"], "owner": {"account_id": 38223, "reputation": 52437, "user_id": 109549, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9c3b5cc4495ac7a328541287e1de87?s=256&d=identicon&r=PG", "display_name": "zslayton", "link": "https://stackoverflow.com/users/109549/zslayton"}, "is_answered": true, "view_count": 935114, "protected_date": 1409784517, "accepted_answer_id": 16048358, "answer_count": 26, "score": 4465, "last_activity_date": 1713681192, "creation_date": 1366147187, "last_edit_date": 1648393980, "question_id": 16047306, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/16047306/how-is-docker-different-from-a-virtual-machine", "title": "How is Docker different from a virtual machine?", "body": "<p>I keep rereading <a href=\"https://docs.docker.com/\" rel=\"noreferrer\">the Docker documentation</a> to try to understand the difference between Docker and a full VM. How does it manage to provide a full filesystem, isolated networking environment, etc. without being as heavy?</p>\n\n<p>Why is deploying software to a Docker image (if that's the right term) easier than simply deploying to a consistent production environment?</p>\n"}, {"tags": ["docker", "nginx", "docker-container", "docker-network"], "owner": {"account_id": 29001, "reputation": 49746, "user_id": 78000, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.sstatic.net/2gqZU.jpg?s=256", "display_name": "Phil", "link": "https://stackoverflow.com/users/78000/phil"}, "is_answered": true, "view_count": 2644874, "protected_date": 1597302575, "closed_date": 1726031396, "accepted_answer_id": 24326540, "answer_count": 45, "score": 3462, "last_activity_date": 1720639280, "creation_date": 1403236456, "last_edit_date": 1675784822, "question_id": 24319662, "link": "https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach", "closed_reason": "Not suitable for this site", "title": "From inside of a Docker container, how do I connect to the localhost of the machine?", "body": "<p>I have a Nginx running inside a docker container. I have a MySql running on the host system. I want to connect to the MySql from within my container. MySql is only binding to the localhost device.</p>\n<p>Is there any way to connect to this MySql or any other program on localhost from within this docker container?</p>\n<p>This question is different from &quot;How to get the IP address of the docker host from inside a docker container&quot; due to the fact that the IP address of the docker host could be the public IP or the private IP in the network which may or may not be reachable from within the docker container (I mean public IP if hosted at AWS or something). Even if you have the IP address of the docker host it does not mean you can connect to docker host from within the container given that IP address as your Docker network may be overlay, host, bridge, macvlan, none etc which restricts the reachability of that IP address.</p>\n"}, {"tags": ["docker", "dockerfile"], "owner": {"account_id": 44787, "reputation": 55325, "user_id": 131640, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/288ecb3cc93b05f92b2c7145a8b80c55?s=256&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/131640/steve"}, "is_answered": true, "view_count": 1079094, "accepted_answer_id": 24958548, "answer_count": 17, "score": 3105, "last_activity_date": 1698708253, "creation_date": 1406298680, "last_edit_date": 1568610769, "question_id": 24958140, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/24958140/what-is-the-difference-between-the-copy-and-add-commands-in-a-dockerfile", "title": "What is the difference between the &#39;COPY&#39; and &#39;ADD&#39; commands in a Dockerfile?", "body": "<p>What is the difference between the <code>COPY</code> and <code>ADD</code> commands in a Dockerfile, and when would I use one over the other?</p>\n\n<pre><code>COPY &lt;src&gt; &lt;dest&gt;\n</code></pre>\n\n<blockquote>\n  <p>The COPY instruction will copy new files from <code>&lt;src&gt;</code> and add them to the container's filesystem at path <code>&lt;dest&gt;</code></p>\n</blockquote>\n\n<pre><code>ADD &lt;src&gt; &lt;dest&gt;\n</code></pre>\n\n<blockquote>\n  <p>The ADD instruction will copy new files from <code>&lt;src&gt;</code> and add them to the container's filesystem at path <code>&lt;dest&gt;</code>.</p>\n</blockquote>\n"}, {"tags": ["docker", "docker-container", "file-copying"], "owner": {"account_id": 3155660, "reputation": 41672, "user_id": 2668128, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/c14410098f9fed129fd8e36285b699c8?s=256&d=identicon&r=PG", "display_name": "user2668128", "link": "https://stackoverflow.com/users/2668128/user2668128"}, "is_answered": true, "view_count": 1926583, "protected_date": 1676626329, "accepted_answer_id": 22050116, "answer_count": 28, "score": 2933, "last_activity_date": 1715074294, "creation_date": 1393436812, "last_edit_date": 1683735483, "question_id": 22049212, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/22049212/copying-files-from-docker-container-to-host", "title": "Copying files from Docker container to host", "body": "<p>I'm thinking of using Docker to build my dependencies on a Continuous Integration (CI) server, so that I don't have to install all the runtimes and libraries on the agents themselves. </p>\n\n<p>To achieve this I would need to copy the build artifacts that are built inside the container back into the host. Is that possible?</p>\n"}, {"tags": ["docker", "docker-entrypoint", "docker-cmd"], "owner": {"account_id": 1406232, "reputation": 148377, "user_id": 1333873, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7ae9b432531de46073888f1a49c2391c?s=256&d=identicon&r=PG", "display_name": "Golo Roden", "link": "https://stackoverflow.com/users/1333873/golo-roden"}, "is_answered": true, "view_count": 992457, "protected_date": 1581379501, "accepted_answer_id": 21564990, "answer_count": 20, "score": 2791, "last_activity_date": 1713146080, "creation_date": 1391519063, "last_edit_date": 1713146080, "question_id": 21553353, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/21553353/what-is-the-difference-between-cmd-and-entrypoint-in-a-dockerfile", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "body": "<p>In Dockerfiles there are two commands that look similar to me: <code>CMD</code> and <code>ENTRYPOINT</code>. But I guess that there is a (subtle?) difference between them - otherwise it would not make any sense to have two commands for the very same thing.</p>\n<p>The documentation states for <code>CMD</code>-</p>\n<blockquote>\n<p>The main purpose of a CMD is to provide defaults for an executing container.</p>\n</blockquote>\n<p>and for <code>ENTRYPOINT</code>:</p>\n<blockquote>\n<p>An ENTRYPOINT helps you to configure a container that you can run as an executable.</p>\n</blockquote>\n<p>So, what's the difference between those two commands?</p>\n"}, {"tags": ["docker", "docker-container"], "owner": {"account_id": 3597613, "reputation": 25562, "user_id": 3001829, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/891c72b4bdc267d9c88b5d4b83462e43?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "user3001829", "link": "https://stackoverflow.com/users/3001829/user3001829"}, "is_answered": true, "view_count": 2433052, "protected_date": 1562786750, "accepted_answer_id": 31971697, "answer_count": 52, "score": 2515, "last_activity_date": 1720594237, "creation_date": 1396859335, "last_edit_date": 1602680226, "question_id": 22907231, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/22907231/how-to-copy-files-from-host-to-docker-container", "title": "How to copy files from host to Docker container?", "body": "<p>I am trying to build a backup and restore solution for the Docker containers that we work with.</p>\n\n<p>I have Docker base image that I have created, <code>ubuntu:base</code>, and do not want have to rebuild it each time with a Docker file to add files to it.</p>\n\n<p>I want to create a script that runs from the host machine and creates a new container using the <code>ubuntu:base</code> Docker image and then copies files into that container.</p>\n\n<p>How can I copy files from the host to the container?</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 117725, "reputation": 58883, "user_id": 308174, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2515856e4452ac935394c3b5556ef323?s=256&d=identicon&r=PG", "display_name": "Larry Cai", "link": "https://stackoverflow.com/users/308174/larry-cai"}, "is_answered": true, "view_count": 1401048, "protected_date": 1524692310, "accepted_answer_id": 23938978, "answer_count": 23, "score": 2334, "last_activity_date": 1725386973, "creation_date": 1401371838, "last_edit_date": 1584097393, "question_id": 23935141, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/23935141/how-to-copy-docker-images-from-one-host-to-another-without-using-a-repository", "title": "How to copy Docker images from one host to another without using a repository", "body": "<p>How do I transfer a Docker image from one machine to another one without using a repository, no matter private or public?</p>\n\n<p>I create my own image in VirtualBox, and when it is finished I try to deploy to other machines to have real usage.</p>\n\n<p>Since it is based on my own based image (like Red Hat Linux), it cannot be recreated from a Dockerfile. My dockerfile isn't easily portable.</p>\n\n<p>Are there simple commands I can use? Or another solution?</p>\n"}, {"tags": ["docker", "docker-container"], "owner": {"account_id": 20341, "reputation": 236401, "user_id": 48523, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1c787bc735dbe80ec2f88824e1d10c6c?s=256&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/48523/andrew"}, "is_answered": true, "view_count": 2994024, "protected_date": 1532610642, "accepted_answer_id": 30173220, "answer_count": 33, "score": 2307, "last_activity_date": 1722007997, "creation_date": 1431360750, "last_edit_date": 1707946527, "question_id": 30172605, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/30172605/how-do-i-get-into-a-docker-containers-shell", "title": "How do I get into a Docker container&#39;s shell?", "body": "<p>I'm getting started working with Docker. I'm using the <code>WordPress</code> base <em>image</em> and <code>docker-compose</code>.</p>\n<p>I'm trying to <strong>ssh</strong> into one of the containers to inspect the files/directories that were created during the initial build. I tried to run <code>docker-compose run containername ls -la</code>, but that didn't do anything. Even if it did, I'd rather have a console where I can traverse the directory structure, rather than run a single command. What is the right way to do this with Docker?</p>\n"}, {"tags": ["docker", "ip-address"], "owner": {"account_id": 1149514, "reputation": 22698, "user_id": 1131518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e61e0c6b9dd794e702df9caf5354060d?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "Murali Allada", "link": "https://stackoverflow.com/users/1131518/murali-allada"}, "is_answered": true, "view_count": 2590238, "protected_date": 1525878929, "accepted_answer_id": 20686101, "answer_count": 56, "score": 2217, "last_activity_date": 1711619280, "creation_date": 1371507022, "last_edit_date": 1617888756, "question_id": 17157721, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/17157721/how-to-get-a-docker-containers-ip-address-from-the-host", "title": "How to get a Docker container&#39;s IP address from the host", "body": "<p>Is there a command I can run to get the container's IP address right from the host after a new container is created?</p>\n\n<p>Basically, once Docker creates the container, I want to roll my own code deployment and container configuration scripts.</p>\n"}, {"tags": ["vagrant", "docker"], "owner": {"account_id": 409510, "reputation": 47301, "user_id": 780799, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e1aa7a623e68cca5a3655bb5b23f60f?s=256&d=identicon&r=PG", "display_name": "murtaza52", "link": "https://stackoverflow.com/users/780799/murtaza52"}, "is_answered": true, "view_count": 426886, "protected_date": 1406722346, "closed_date": 1494487210, "accepted_answer_id": 16761439, "answer_count": 10, "score": 2200, "last_activity_date": 1541708557, "creation_date": 1369044325, "last_edit_date": 1482620272, "question_id": 16647069, "link": "https://stackoverflow.com/questions/16647069/should-i-use-vagrant-or-docker-for-creating-an-isolated-environment", "closed_reason": "Needs more focus", "title": "Should I use Vagrant or Docker for creating an isolated environment?", "body": "<p>I use Ubuntu for development and deployment and have a need for creating an isolated environment. </p>\n\n<p>I am considering either Vagrant or Docker for this purpose. What are the pros and cons, or how do these solutions compare?</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 3210808, "reputation": 18853, "user_id": 2710873, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.sstatic.net/pBhk3Luf.jpg?s=256", "display_name": "Pavan Gupta", "link": "https://stackoverflow.com/users/2710873/pavan-gupta"}, "is_answered": true, "view_count": 1556382, "accepted_answer_id": 35595021, "answer_count": 10, "score": 1649, "last_activity_date": 1720089958, "creation_date": 1456295868, "last_edit_date": 1639645384, "question_id": 35594987, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/35594987/how-to-force-docker-for-a-clean-build-of-an-image", "title": "How to force Docker for a clean build of an image", "body": "<p>I have build a Docker image from a Docker file using the below command.</p>\n\n<pre><code>$ docker build -t u12_core -f u12_core .\n</code></pre>\n\n<p>When I am trying to rebuild it with the same command, it's using the build cache like:</p>\n\n<pre><code>Step 1 : FROM ubuntu:12.04\n ---&gt; eb965dfb09d2\nStep 2 : MAINTAINER Pavan Gupta &lt;pavan.gupta@gmail.com&gt;\n ---&gt; Using cache\n ---&gt; 4354ccf9dcd8\nStep 3 : RUN apt-get update\n ---&gt; Using cache\n ---&gt; bcbca2fcf204\nStep 4 : RUN apt-get install -y openjdk-7-jdk\n ---&gt; Using cache\n ---&gt; 103f1a261d44\nStep 5 : RUN apt-get install -y openssh-server\n ---&gt; Using cache\n ---&gt; dde41f8d0904\nStep 6 : RUN apt-get install -y git-core\n ---&gt; Using cache\n ---&gt; 9be002f08b6a\nStep 7 : RUN apt-get install -y build-essential\n ---&gt; Using cache\n ---&gt; a752fd73a698\nStep 8 : RUN apt-get install -y logrotate\n ---&gt; Using cache\n ---&gt; 93bca09b509d\nStep 9 : RUN apt-get install -y lsb-release\n ---&gt; Using cache\n ---&gt; fd4d10cf18bc\nStep 10 : RUN mkdir /var/run/sshd\n ---&gt; Using cache\n ---&gt; 63b4ecc39ff0\nStep 11 : RUN echo 'root:root' | chpasswd\n ---&gt; Using cache\n ---&gt; 9532e31518a6\nStep 12 : RUN sed -i 's/PermitRootLogin without-password/PermitRootLogin yes/' /etc/ssh/sshd_config\n ---&gt; Using cache\n ---&gt; 47d1660bd544\nStep 13 : RUN sed 's@session\\s*required\\s*pam_loginuid.so@session optional pam_loginuid.so@g' -i /etc/pam.d/sshd\n ---&gt; Using cache\n ---&gt; d1f97f1c52f7\nStep 14 : RUN wget -O aerospike.tgz 'http://aerospike.com/download/server/latest/artifact/ubuntu12'\n ---&gt; Using cache\n ---&gt; bd7dde7a98b9\nStep 15 : RUN tar -xvf aerospike.tgz\n ---&gt; Using cache\n ---&gt; 54adaa09921f\nStep 16 : RUN dpkg -i aerospike-server-community-*/*.deb\n ---&gt; Using cache\n ---&gt; 11aba013eea5\nStep 17 : EXPOSE 22 3000 3001 3002 3003\n ---&gt; Using cache\n ---&gt; e33aaa78a931\nStep 18 : CMD /usr/sbin/sshd -D\n ---&gt; Using cache\n ---&gt; 25f5fe70fa84\nSuccessfully built 25f5fe70fa84\n</code></pre>\n\n<p>The cache shows that aerospike is installed. However, I don't find it inside containers spawn from this image, so I want to rebuild this image without using the cache. How can I force Docker to rebuild a clean image without the cache?</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 1559010, "reputation": 27106, "user_id": 1449361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f3d20abdb8f1a8e3ecddb4d3fef75c67?s=256&d=identicon&r=PG", "display_name": "qkrijger", "link": "https://stackoverflow.com/users/1449361/qkrijger"}, "is_answered": true, "view_count": 913754, "protected_date": 1503692558, "accepted_answer_id": 17237701, "answer_count": 67, "score": 1481, "last_activity_date": 1699131901, "creation_date": 1371822102, "last_edit_date": 1495540519, "question_id": 17236796, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/17236796/how-to-remove-old-docker-containers", "title": "How to remove old Docker containers", "body": "<p>This question is related to <em><a href=\"https://stackoverflow.com/questions/17014263/should-i-be-concerned-about-excess-non-running-docker-containers\">Should I be concerned about excess, non-running, Docker containers?</a></em>.</p>\n\n<p>I'm wondering how to remove old containers. The <code>docker rm 3e552code34a</code> lets you remove a single one, but I have lots already. <code>docker rm --help</code> doesn't give a selection option (like all, or by image name).</p>\n\n<p>Maybe there is a directory in which these containers are stored where I can delete them easily manually?</p>\n"}, {"tags": ["docker", "environment-variables", "dockerfile"], "owner": {"account_id": 436944, "reputation": 33538, "user_id": 824377, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e600bd229c588891a7616f303e30efd9?s=256&d=identicon&r=PG", "display_name": "AJcodez", "link": "https://stackoverflow.com/users/824377/ajcodez"}, "is_answered": true, "view_count": 2063114, "accepted_answer_id": 30494145, "answer_count": 21, "score": 1442, "last_activity_date": 1713764548, "creation_date": 1432765029, "last_edit_date": 1672278613, "question_id": 30494050, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/30494050/how-do-i-pass-environment-variables-to-docker-containers", "title": "How do I pass environment variables to Docker containers?", "body": "<p>How can one access an external database from a container? Is the best way to hard code in the connection string?</p>\n<pre><code># Dockerfile\nENV DATABASE_URL amazon:rds/connection?string\n</code></pre>\n"}, {"tags": ["docker", "docker-compose"], "owner": {"account_id": 9839273, "reputation": 14789, "user_id": 7288685, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10202763828135011/picture?type=large", "display_name": "Carlos Andres", "link": "https://stackoverflow.com/users/7288685/carlos-andres"}, "is_answered": true, "view_count": 1528032, "protected_date": 1617560689, "accepted_answer_id": 48957722, "answer_count": 29, "score": 1245, "last_activity_date": 1722429372, "creation_date": 1519425538, "last_edit_date": 1700701907, "question_id": 48957195, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/48957195/how-to-fix-docker-got-permission-denied-issue", "title": "How to fix docker: Got permission denied issue", "body": "<p>I installed Docker in my machine where I have Ubuntu OS.<br />\nWhen I run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo docker run hello-world\n</code></pre>\n<p>All is ok, but I want to hide the <code>sudo</code> command to make the command shorter.<br />\nIf I write the command without <code>sudo</code></p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run hello-world\n</code></pre>\n<p>That displays the following:</p>\n<pre><code>docker: Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post http://%2Fvar%2Frun%2Fdocker.sock/v1.35/containers/create: dial unix /var/run/docker.sock: connect: permission denied. See 'docker run --help'.\n</code></pre>\n<p>The same happens when I try to run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker-compose up\n</code></pre>\n<p>How can I resolve this?</p>\n"}, {"tags": ["docker", "docker-container", "docker-image"], "owner": {"account_id": 30785, "reputation": 34356, "user_id": 84143, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/fce9c9c5dc42d98e71856d166e984e96?s=256&d=identicon&r=PG", "display_name": "Bibek Shrestha", "link": "https://stackoverflow.com/users/84143/bibek-shrestha"}, "is_answered": true, "view_count": 445381, "protected_date": 1646151147, "accepted_answer_id": 23736802, "answer_count": 32, "score": 1244, "last_activity_date": 1694656171, "creation_date": 1400494527, "last_edit_date": 1573481844, "question_id": 23735149, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/23735149/what-is-the-difference-between-a-docker-image-and-a-container", "title": "What is the difference between a Docker image and a container?", "body": "<p>When using Docker, we start with a base image. We boot it up, create changes and those changes are saved in layers forming another image.</p>\n\n<p>So eventually I have an image for my PostgreSQL instance and an image for my web application, changes to which keep on being persisted.</p>\n\n<p>What is a container?</p>\n"}, {"tags": ["docker", "docker-image"], "owner": {"account_id": 309946, "reputation": 25048, "user_id": 622662, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab8d1d708f972d8a671015132637358d?s=256&d=identicon&r=PG", "display_name": "Quanlong", "link": "https://stackoverflow.com/users/622662/quanlong"}, "is_answered": true, "view_count": 814106, "protected_date": 1535133415, "accepted_answer_id": 32723127, "answer_count": 32, "score": 1140, "last_activity_date": 1698392742, "creation_date": 1442942617, "last_edit_date": 1564734514, "question_id": 32723111, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/32723111/how-to-remove-old-and-unused-docker-images", "title": "How to remove old and unused Docker images", "body": "<p>When running Docker for a long time, there are a lot of images in system. How can I remove all unused Docker images at once safety to free up the storage?</p>\n\n<p>In addition, I also want to remove images pulled months ago, which have the correct <code>TAG</code>.</p>\n\n<p>So, I'm not asking for removing untagged images only. I'm searching for a way to remove general unused images, which includes both untagged and other images such as pulled months ago with correct <code>TAG</code>.</p>\n"}, {"tags": ["linux", "docker", "filesystems"], "owner": {"account_id": 3155660, "reputation": 41672, "user_id": 2668128, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/c14410098f9fed129fd8e36285b699c8?s=256&d=identicon&r=PG", "display_name": "user2668128", "link": "https://stackoverflow.com/users/2668128/user2668128"}, "is_answered": true, "view_count": 1340216, "protected_date": 1653940846, "accepted_answer_id": 20816397, "answer_count": 33, "score": 1110, "last_activity_date": 1707830999, "creation_date": 1388226542, "last_edit_date": 1498863833, "question_id": 20813486, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/20813486/exploring-docker-containers-file-system", "title": "Exploring Docker container&#39;s file system", "body": "<p>I've noticed with docker that I need to understand what's happening inside a container or what files exist in there. One example is downloading images from the docker index - you don't have a clue what the image contains so it's impossible to start the application.</p>\n\n<p>What would be ideal is to be able to ssh into them or equivalent. Is there a tool to do this, or is my conceptualisation of docker wrong in thinking I should be able to do this.</p>\n"}, {"tags": ["docker", "docker-container"], "owner": {"account_id": 80114, "reputation": 11542, "user_id": 226743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/958d54812e4222930892cc1bed25e702?s=256&d=identicon&r=PG", "display_name": "juwalter", "link": "https://stackoverflow.com/users/226743/juwalter"}, "is_answered": true, "view_count": 318599, "protected_date": 1504180544, "accepted_answer_id": 20652410, "answer_count": 15, "score": 1071, "last_activity_date": 1681165744, "creation_date": 1377719144, "last_edit_date": 1540210776, "question_id": 18496940, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/18496940/how-to-deal-with-persistent-storage-e-g-databases-in-docker", "title": "How to deal with persistent storage (e.g. databases) in Docker", "body": "<p>How do people deal with persistent storage for your Docker containers?</p>\n\n<p>I am currently using this approach: build the image, e.g. for PostgreSQL, and then start the container with</p>\n\n<pre><code>docker run --volumes-from c0dbc34fd631 -d app_name/postgres\n</code></pre>\n\n<p>IMHO, that has the drawback, that I must not ever (by accident) delete container \"c0dbc34fd631\".</p>\n\n<p>Another idea would be to mount host volumes \"-v\" into the container, however, the <strong>userid</strong> within the container does not necessarily match the <strong>userid</strong> from the host, and then permissions might be messed up.</p>\n\n<p>Note: Instead of <code>--volumes-from 'cryptic_id'</code> you can also use <code>--volumes-from my-data-container</code> where <code>my-data-container</code> is a name you assigned to a data-only container, e.g. <code>docker run --name my-data-container ...</code> (see the accepted answer)</p>\n"}, {"tags": ["docker", "docker-compose"], "owner": {"account_id": 2705346, "reputation": 15020, "user_id": 2335820, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.sstatic.net/sLTHB.jpg?s=256", "display_name": "Kimmo Hintikka", "link": "https://stackoverflow.com/users/2335820/kimmo-hintikka"}, "is_answered": true, "view_count": 1228562, "closed_date": 1725389668, "accepted_answer_id": 44785784, "answer_count": 28, "score": 1065, "last_activity_date": 1725021812, "creation_date": 1498581413, "last_edit_date": 1678270455, "question_id": 44785585, "link": "https://stackoverflow.com/questions/44785585/how-can-i-delete-all-local-docker-images", "closed_reason": "Not suitable for this site", "title": "How can I delete all local Docker images?", "body": "<p>I recently started using Docker and never realized that I should use <code>docker-compose down</code> instead of <code>ctrl-c</code> or <code>docker-compose stop</code> to get rid of my experiments. I now have a large number of unneeded docker images locally. </p>\n\n<p>Is there a flag I can run to delete all the local docker images &amp; containers?</p>\n\n<p>Something like <code>docker rmi --all --force</code> --all flag does not exist but I am looking for something with similar idea. </p>\n"}, {"tags": ["docker", "docker-image"], "owner": {"account_id": 367786, "reputation": 12679, "user_id": 714179, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8f4a83b7d6d53a4d3a5757bc30b3ea5a?s=256&d=identicon&r=PG", "display_name": "nemo", "link": "https://stackoverflow.com/users/714179/nemo"}, "is_answered": true, "view_count": 1149511, "protected_date": 1541568943, "accepted_answer_id": 25978888, "answer_count": 31, "score": 1050, "last_activity_date": 1658066461, "creation_date": 1381180128, "last_edit_date": 1490804762, "question_id": 19234831, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/19234831/where-are-docker-images-stored-on-the-host-machine", "title": "Where are Docker images stored on the host machine?", "body": "<p>I managed to find the containers under directory <code>/var/lib/docker/containers</code>, but I can't find the images.</p>\n\n<p>What are the directories and files under <code>/var/lib/docker</code>?</p>\n"}, {"tags": ["docker", "docker-compose"], "owner": {"account_id": 3053705, "reputation": 26778, "user_id": 2587797, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.sstatic.net/8H6jK.png?s=256", "display_name": "RustyShackleford", "link": "https://stackoverflow.com/users/2587797/rustyshackleford"}, "is_answered": true, "view_count": 1197499, "protected_date": 1597953484, "accepted_answer_id": 30064175, "answer_count": 22, "score": 996, "last_activity_date": 1725885582, "creation_date": 1430862817, "last_edit_date": 1672102752, "question_id": 30063907, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/30063907/docker-compose-how-to-execute-multiple-commands", "title": "Docker Compose - How to execute multiple commands?", "body": "<p>I want to do something like this where I can run multiple commands in the following code:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>db:\n  image: postgres\nweb:\n  build: .\n  command: python manage.py migrate\n  command: python manage.py runserver 0.0.0.0:8000\n  volumes:\n    - .:/code\n  ports:\n    - &quot;8000:8000&quot;\n  links:\n    - db\n</code></pre>\n<p>How could I execute multiple commands?</p>\n"}, {"tags": ["docker", "docker-compose"], "owner": {"account_id": 30785, "reputation": 34356, "user_id": 84143, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/fce9c9c5dc42d98e71856d166e984e96?s=256&d=identicon&r=PG", "display_name": "Bibek Shrestha", "link": "https://stackoverflow.com/users/84143/bibek-shrestha"}, "is_answered": true, "view_count": 687367, "answer_count": 5, "score": 992, "last_activity_date": 1713568005, "creation_date": 1480066750, "last_edit_date": 1666351606, "question_id": 40801772, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/40801772/what-is-the-difference-between-ports-and-expose-in-docker-compose", "title": "What is the difference between ports and expose in docker-compose?", "body": "<p>What is the difference between <code>ports</code> and <code>expose</code> options in <code>docker-compose.yml</code>?</p>\n"}, {"tags": ["docker", "jenkins", "jenkins-pipeline"], "owner": {"account_id": 330219, "reputation": 35478, "user_id": 654203, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f24da0fb92ce004520e876355912f910?s=256&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/654203/anthony"}, "is_answered": true, "view_count": 736088, "accepted_answer_id": 43099210, "answer_count": 18, "score": 970, "last_activity_date": 1721615069, "creation_date": 1490804774, "last_edit_date": 1532198594, "question_id": 43099116, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/43099116/error-the-input-device-is-not-a-tty", "title": "Error &quot;The input device is not a TTY&quot;", "body": "<p>I am running the following command from my <code>Jenkinsfile</code>. However, I get the error <em>\"The input device is not a TTY\"</em>.</p>\n\n<pre><code>docker run -v $PWD:/foobar -it cloudfoundry/cflinuxfs2 /foobar/script.sh\n</code></pre>\n\n<p>Is there a way to run the script from the <code>Jenkinsfile</code> without doing interactive mode?</p>\n\n<p>I basically have a file called <code>script.sh</code> that I would like to run inside the Docker container.</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 42683, "reputation": 18231, "user_id": 124416, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a64ed062eb5e2c3407122fcf16c5de6b?s=256&d=identicon&r=PG", "display_name": "w00t", "link": "https://stackoverflow.com/users/124416/w00t"}, "is_answered": true, "view_count": 1001338, "protected_date": 1586501960, "accepted_answer_id": 16842203, "answer_count": 14, "score": 964, "locked_date": 1586501978, "last_activity_date": 1586347365, "creation_date": 1369928506, "last_edit_date": 1529611103, "question_id": 16840409, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/16840409/how-to-list-containers-in-docker", "title": "How to list containers in Docker", "body": "<p>There's a command to list images, <code>docker images</code>, but there doesn't seem to be a corresponding <code>docker containers</code>.</p>\n\n<p>Other than becoming root and looking into <code>/var/lib/docker</code> there doesn't seem a way to do that. Am I missing something? Is that something one isn't supposed to do?</p>\n"}, {"tags": ["docker", "linux-containers"], "owner": {"account_id": 1426344, "reputation": 19247, "user_id": 1349754, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.sstatic.net/QoNQ4.jpg?s=256", "display_name": "Timur Fayzrakhmanov", "link": "https://stackoverflow.com/users/1349754/timur-fayzrakhmanov"}, "is_answered": true, "view_count": 802597, "protected_date": 1674491395, "accepted_answer_id": 25214186, "answer_count": 14, "score": 946, "last_activity_date": 1670507007, "creation_date": 1407527316, "last_edit_date": 1420365361, "question_id": 25211198, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/25211198/docker-how-to-change-repository-name-or-rename-image", "title": "Docker how to change repository name or rename image?", "body": "<p>I'm trying to change repository name of the image:</p>\n\n<pre><code>REPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nserver              latest              d583c3ac45fd        26 minutes ago      685.5 MB\n</code></pre>\n\n<p>Hence I want to change the name <code>server</code> to something like <code>myname/server</code>:</p>\n\n<pre><code>REPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nmyname/server       latest              d583c3ac45fd        26 minutes ago      685.5 MB\n</code></pre>\n\n<p>How can I do this?</p>\n"}, {"tags": ["bash", "docker", "mount", "boot2docker"], "owner": {"account_id": 2495319, "reputation": 9566, "user_id": 2171928, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.sstatic.net/DPmA4.jpg?s=256", "display_name": "Kishore", "link": "https://stackoverflow.com/users/2171928/kishore"}, "is_answered": true, "view_count": 1658038, "protected_date": 1600953258, "answer_count": 27, "score": 927, "last_activity_date": 1700447692, "creation_date": 1399079534, "last_edit_date": 1647344576, "question_id": 23439126, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/23439126/how-to-mount-a-host-directory-in-a-docker-container", "title": "How to mount a host directory in a Docker container", "body": "<p>I am trying to mount a host directory into a Docker container so that any updates done on the host is reflected into the Docker containers.</p>\n\n<p>Where am I doing something wrong. Here is what I did:</p>\n\n<pre><code>kishore$ cat Dockerfile\n\nFROM ubuntu:trusty\nRUN apt-get update\nRUN apt-get -y install git curl vim\nCMD [\"/bin/bash\"]\nWORKDIR /test_container\nVOLUME [\"/test_container\"]\n</code></pre>\n\n<p><pre><code>kishore$ tree\n.\n\u251c\u2500\u2500 Dockerfile\n\u2514\u2500\u2500 main_folder\n    \u251c\u2500\u2500 tfile1.txt\n    \u251c\u2500\u2500 tfile2.txt\n    \u251c\u2500\u2500 tfile3.txt\n    \u2514\u2500\u2500 tfile4.txt</p>\n\n<p>1 directory, 5 files\nkishore$ pwd\n/Users/kishore/tdock\n</code></pre><pre><code>kishore$ docker build --tag=k3_s3:latest .</p>\n\n<pre><code>Uploading context 7.168 kB\nUploading context\nStep 0 : FROM ubuntu:trusty\n ---&gt; 99ec81b80c55\nStep 1 : RUN apt-get update\n ---&gt; Using cache\n ---&gt; 1c7282005040\nStep 2 : RUN apt-get -y install git curl vim\n ---&gt; Using cache\n ---&gt; aed48634e300\nStep 3 : CMD [\"/bin/bash\"]\n ---&gt; Running in d081b576878d\n ---&gt; 65db8df48595\nStep 4 : WORKDIR /test_container\n ---&gt; Running in 5b8d2ccd719d\n ---&gt; 250369b30e1f\nStep 5 : VOLUME [\"/test_container\"]\n ---&gt; Running in 72ca332d9809\n ---&gt; 163deb2b1bc5\nSuccessfully built 163deb2b1bc5\nRemoving intermediate container b8bfcb071441\nRemoving intermediate container d081b576878d\nRemoving intermediate container 5b8d2ccd719d\nRemoving intermediate container 72ca332d9809\n</code></pre>\n\n<p>kishore$ docker run -d -v /Users/kishore/main_folder:/test_container k3_s3:latest\n<code>c9f9a7e09c54ee1c2cc966f15c963b4af320b5203b8c46689033c1ab8872a0ea</code></code></pre><pre><code>kishore$ docker run -i -t k3_s3:latest /bin/bash</p>\n\n<pre><code>root@0f17e2313a46:/test_container# ls -al\ntotal 8\ndrwx------  2 root root 4096 Apr 29 05:15 .\ndrwxr-xr-x 66 root root 4096 Apr 29 05:15 ..\n</code></pre>\n\n<p>root@0f17e2313a46:/test_container# exit\nexit</code></pre><pre><code>kishore$ docker -v\nDocker version 0.9.1, build 867b2a9</code></pre></p>\n\n<ul>\n<li>I don't know how to check boot2docker version</li>\n</ul>\n\n<p>Questions, issues facing:</p>\n\n<ol>\n<li>How do I need to link the main_folder to the test_container folder present inside the docker container?</li>\n<li>I need to make this automatically. How do I to do that without really using the <code>run -d -v</code> command?</li>\n<li>What happens if the boot2docker crashes? Where are the Docker files stored (apart from Dockerfile)?</li>\n</ol>\n"}, {"tags": ["docker"], "owner": {"account_id": 10682289, "reputation": 9249, "user_id": 7865278, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/abf96ba7f2ec54529f3411d4af8ba32b?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "pylearn", "link": "https://stackoverflow.com/users/7865278/pylearn"}, "is_answered": true, "view_count": 819706, "accepted_answer_id": 44769468, "answer_count": 17, "score": 907, "last_activity_date": 1711012274, "creation_date": 1498514509, "last_edit_date": 1570012781, "question_id": 44769315, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/44769315/how-to-see-docker-image-contents", "title": "How to see docker image contents", "body": "<p>I did a docker pull and can list the image that's downloaded. I want to see the contents of this image. Did a search on the net but no straight answer.</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 1023175, "reputation": 14410, "user_id": 1033027, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b56ea1c43a4ecb1060ec8bcb8d2bce78?s=256&d=identicon&r=PG", "display_name": "Jules", "link": "https://stackoverflow.com/users/1033027/jules"}, "is_answered": true, "view_count": 741524, "protected_date": 1437235861, "accepted_answer_id": 17870293, "answer_count": 20, "score": 886, "last_activity_date": 1668766476, "creation_date": 1373928962, "last_edit_date": 1611525630, "question_id": 17665283, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/17665283/how-does-one-remove-a-docker-image", "title": "How does one remove a Docker image?", "body": "<p>I'm running Docker under Vagrant under OS X 10.8.4  (Mountain Lion), and whenever I try to delete a saved image, I get an error:</p>\n\n<pre><code>$ docker rmi some-image-id\n2013/07/15 hh:mm:ss unexpected JSON input\n</code></pre>\n\n<p>According to the <code>rmi</code> help, the proper syntax is <code>docker rmi IMAGE [IMAGE...]</code>, and I'm not sure what to make of that.</p>\n\n<p>How can I delete an image?</p>\n\n<pre><code>$ docker version\nClient version: 0.4.8\nServer version: 0.4.8\nGo version: go1.1\n</code></pre>\n\n<p>\u00a0</p>\n\n<pre><code>$docker info\nContainers: 1\nImages: 3\n</code></pre>\n\n<p>Interestingly, when I run <code>docker ps</code>, no containers show up at all. Running <code>docker images</code> shows four (4) <code>base</code> images and one (1) <code>node</code> image.</p>\n"}, {"tags": ["linux", "ubuntu", "docker", "ubuntu-14.04"], "owner": {"account_id": 1617069, "reputation": 20813, "user_id": 4094231, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c932bf9b2a7a5173e57ab7deb6adfabe?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "Umair Ayub", "link": "https://stackoverflow.com/users/4094231/umair-ayub"}, "is_answered": true, "view_count": 2812455, "protected_date": 1560366755, "answer_count": 74, "score": 886, "last_activity_date": 1725416689, "creation_date": 1498054733, "last_edit_date": 1653333050, "question_id": 44678725, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/44678725/cannot-connect-to-the-docker-daemon-at-unix-var-run-docker-sock-is-the-docker", "title": "Cannot connect to the Docker daemon at unix:/var/run/docker.sock. Is the docker daemon running?", "body": "<p>I have applied every solution available on internet but still I cannot run Docker.</p>\n<p>I want to use Scrapy Splash on my server.</p>\n<p>Here is <code>history</code> of commands I ran.</p>\n<pre><code>docker run -p 8050:8050 scrapinghub/splash\nsudo docker run -p 8050:8050 scrapinghub/splash\nsudo usermod -aG docker $(whoami)\nsudo docker run -p 8050:8050 scrapinghub/splash\nnewgrp docker\nsudo docker run -p 8050:8050 scrapinghub/splash\nreboot\nsudo docker run -p 8050:8050 scrapinghub/splash\ndocker run -p 8050:8050 scrapinghub/splash\n</code></pre>\n<p>You can see I tried to restart my server as well, but it didnt help.</p>\n<p>see output of <code>ps -aux | grep docker</code></p>\n<pre><code>root@mani:/var/www/html# ps aux | grep docker\nroot      8524  0.0  0.8 127904 13964 ?        Ssl  17:21   0:00 /usr/bin/dockerd --raw-logs\nroot      8534  0.0  0.3  90588  5012 ?        Ssl  17:21   0:00 docker-containerd -l unix:///var/run/docker/libcontainerd/docker-containerd.sock --metrics-interval=0 --start-timeout 2m --state-dir /var/run/docker/libcontainerd/containerd --shim docker-containerd-shim --runtime docker-runc\nroot      8543  0.0  0.0   8812   764 pts/1    S+   17:21   0:00 grep --color=auto docker\nroot     16356  0.0  0.0  17200   964 pts/1    S    17:14   0:00 newgrp docker\nroot     20080  0.0  0.0  17200   964 pts/1    S    17:06   0:00 newgrp docker\nroot     30221  0.0  0.0  17200   964 pts/1    S    17:09   0:00 newgrp docker\n</code></pre>\n<p>but it gives the error:</p>\n<blockquote>\n<p>Cannot connect to the Docker daemon at <code>unix:///var/run/docker.sock</code>. Is the docker daemon running?.</p>\n</blockquote>\n"}, {"tags": ["docker"], "owner": {"account_id": 2336710, "reputation": 9810, "user_id": 2048879, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c622ca73254e6dc7bb974cd4ef33626f?s=256&d=identicon&r=PG", "display_name": "ben_frankly", "link": "https://stackoverflow.com/users/2048879/ben-frankly"}, "is_answered": true, "view_count": 575655, "accepted_answer_id": 34392052, "answer_count": 22, "score": 885, "last_activity_date": 1712943865, "creation_date": 1416597088, "last_edit_date": 1534091696, "question_id": 27068596, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/27068596/how-to-include-files-outside-of-dockers-build-context", "title": "How to include files outside of Docker&#39;s build context?", "body": "<p>How can I include files from outside of Docker's build context using the \"ADD\" command in the Docker file?</p>\n\n<p>From the Docker documentation:</p>\n\n<blockquote>\n  <p>The  path must be inside the context of the build; you cannot ADD\n  ../something/something, because the first step of a docker build is to\n  send the context directory (and subdirectories) to the docker daemon.</p>\n</blockquote>\n\n<p>I do not want to restructure my whole project just to accommodate Docker in this matter. I want to keep all my Docker files in the same sub-directory.</p>\n\n<p>Also, it appears Docker does not yet (and may not ever) support symlinks: <a href=\"https://github.com/docker/docker/issues/1676\" rel=\"noreferrer\">Dockerfile ADD command does not follow symlinks on host #1676.</a> </p>\n\n<p>The only other thing I can think of is to include a pre-build step to copy the files into the Docker build context (and configure my version control to ignore those files). Is there a better workaround for than that?</p>\n"}, {"tags": ["docker", "command-line-interface", "editor"], "owner": {"account_id": 1323676, "reputation": 24660, "user_id": 1268964, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.sstatic.net/8O92d.jpg?s=256", "display_name": "Igor Barinov", "link": "https://stackoverflow.com/users/1268964/igor-barinov"}, "is_answered": true, "view_count": 846936, "accepted_answer_id": 30859601, "answer_count": 26, "score": 846, "last_activity_date": 1723574915, "creation_date": 1434395756, "last_edit_date": 1705686749, "question_id": 30853247, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/30853247/how-do-i-edit-a-file-after-i-shell-to-a-docker-container", "title": "How do I edit a file after I shell to a Docker container?", "body": "<p>I successfully shelled to a Docker container using:</p>\n\n<pre><code>docker exec -i -t 69f1711a205e bash\n</code></pre>\n\n<p>Now I need to edit file and I don't have any editors inside:</p>\n\n<pre><code>root@69f1711a205e:/# nano\nbash: nano: command not found\nroot@69f1711a205e:/# pico\nbash: pico: command not found\nroot@69f1711a205e:/# vi\nbash: vi: command not found\nroot@69f1711a205e:/# vim\nbash: vim: command not found\nroot@69f1711a205e:/# emacs\nbash: emacs: command not found\nroot@69f1711a205e:/#\n</code></pre>\n\n<p>How do I edit files?</p>\n"}, {"tags": ["docker", "dockerfile"], "owner": {"account_id": 2981656, "reputation": 11443, "user_id": 2693841, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.sstatic.net/g2TSq.jpg?s=256", "display_name": "Keyur Shah", "link": "https://stackoverflow.com/users/2693841/keyur-shah"}, "is_answered": true, "view_count": 948795, "protected_date": 1547578489, "accepted_answer_id": 41984666, "answer_count": 75, "score": 834, "last_activity_date": 1723309902, "creation_date": 1485965333, "last_edit_date": 1718092538, "question_id": 41984399, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/41984399/docker-push-error-denied-requested-access-to-the-resource-is-denied", "title": "docker push error: denied: requested access to the resource is denied", "body": "<p>I am following <a href=\"https://docs.docker.com/get-started/04_sharing_app/\" rel=\"noreferrer\">this link</a> to create my first docker Image and it went successfully and now I am trying to push this Image into my docker repository <a href=\"https://docs.docker.com/get-started/06_bind_mounts/\" rel=\"noreferrer\">following these instructions</a>. But whenever I am trying to push this Image into repository, I  got this type of error.</p>\n<pre><code>denied: requested access to the resource is denied\n</code></pre>\n<p><a href=\"https://i.sstatic.net/GCu19.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/GCu19.png\" alt=\"\" /></a></p>\n<p>Note: I have successfully login into docker</p>\n"}, {"tags": ["linux", "docker", "performance", "virtual-machine", "containerd"], "owner": {"account_id": 91687, "reputation": 8825, "user_id": 251630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c354f01e76454d03fffd7a3cebe24d9a?s=256&d=identicon&r=PG", "display_name": "Luke Hoersten", "link": "https://stackoverflow.com/users/251630/luke-hoersten"}, "is_answered": true, "view_count": 284816, "protected_date": 1482111757, "accepted_answer_id": 26149994, "answer_count": 4, "score": 792, "last_activity_date": 1701610114, "creation_date": 1392833985, "last_edit_date": 1620860810, "question_id": 21889053, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/21889053/what-is-the-runtime-performance-cost-of-a-docker-container", "title": "What is the runtime performance cost of a Docker container?", "body": "<p>I'd like to comprehensively understand the run-time performance cost of a Docker container. I've found references to <a href=\"https://stackoverflow.com/questions/21691540/how-to-optimize-performance-for-a-docker-container/21707838#21707838\">networking anecdotally being ~100\u00b5s slower</a>.</p>\n\n<p>I've also found references to the run-time cost being \"negligible\" and \"close to zero\" but I'd like to know more precisely what those costs are. Ideally I'd like to know what Docker is abstracting with a performance cost and things that are abstracted without a performance cost. Networking, CPU, memory, etc.</p>\n\n<p>Furthermore, if there are abstraction costs, are there ways to get around the abstraction cost. For example, perhaps I can mount a disk directly vs. virtually in Docker.</p>\n"}, {"tags": ["docker", "docker-image"], "owner": {"account_id": 528997, "reputation": 11436, "user_id": 949845, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5a40029644c8ced0703cb361cc8c6952?s=256&d=identicon&r=PG", "display_name": "boom", "link": "https://stackoverflow.com/users/949845/boom"}, "is_answered": true, "view_count": 1435425, "protected_date": 1647000058, "accepted_answer_id": 18498313, "answer_count": 12, "score": 791, "last_activity_date": 1701525013, "creation_date": 1377722091, "last_edit_date": 1598431844, "question_id": 18497688, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/18497688/run-a-docker-image-as-a-container", "title": "Run a Docker image as a container", "body": "<p>After building a Docker image from a <code>dockerfile</code>, I see the image was built successfully, but what do I do with it? Shouldn't i be able to run it as a container?</p>\n"}, {"tags": ["docker", "port", "lxc", "linux-containers"], "owner": {"account_id": 206600, "reputation": 9687, "user_id": 455988, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/39263d15a3b0838a938aaaa59dde5c06?s=256&d=identicon&r=PG", "display_name": "thasmo", "link": "https://stackoverflow.com/users/455988/thasmo"}, "is_answered": true, "view_count": 1071186, "protected_date": 1660684253, "accepted_answer_id": 38783433, "answer_count": 17, "score": 785, "last_activity_date": 1719268619, "creation_date": 1381589178, "last_edit_date": 1489325306, "question_id": 19335444, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/19335444/how-do-i-assign-a-port-mapping-to-an-existing-docker-container", "title": "How do I assign a port mapping to an existing Docker container?", "body": "<p>I'm not sure if I've misunderstood something here, but it seems like it's only possible to set port mappings by creating a new container from an image. Is there a way to assign a port mapping to an existing Docker container?</p>\n"}, {"tags": ["docker", "environment-variables"], "owner": {"account_id": 1382925, "reputation": 18386, "user_id": 1315565, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.sstatic.net/QXtqX.jpg?s=256", "display_name": "ILikeTacos", "link": "https://stackoverflow.com/users/1315565/iliketacos"}, "is_answered": true, "view_count": 552787, "protected_date": 1542989574, "accepted_answer_id": 38742545, "answer_count": 4, "score": 776, "last_activity_date": 1719326759, "creation_date": 1416772713, "last_edit_date": 1677684894, "question_id": 27093612, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/27093612/in-a-dockerfile-how-to-update-path-environment-variable", "title": "In a Dockerfile, How to update PATH environment variable?", "body": "<p>I have a dockerfile that download and builds GTK from source, but the following line is not updating my image's environment variable:</p>\n\n<pre><code>RUN PATH=\"/opt/gtk/bin:$PATH\"\nRUN export PATH\n</code></pre>\n\n<p>I read that that I should be using ENV to set environment values, but the following instruction doesn't seem to work either:</p>\n\n<p><code>ENV PATH /opt/gtk/bin:$PATH</code></p>\n\n<p>This is my entire Dockerfile:</p>\n\n<pre><code>FROM ubuntu\nRUN apt-get update\nRUN apt-get install -y golang gcc make wget git libxml2-utils libwebkit2gtk-3.0-dev libcairo2 libcairo2-dev libcairo-gobject2 shared-mime-info libgdk-pixbuf2.0-* libglib2-* libatk1.0-* libpango1.0-* xserver-xorg xvfb\n\n# Downloading GTKcd\nRUN wget http://ftp.gnome.org/pub/gnome/sources/gtk+/3.12/gtk+-3.12.2.tar.xz\nRUN tar xf gtk+-3.12.2.tar.xz\nRUN cd gtk+-3.12.2\n\n# Setting environment variables before running configure\nRUN CPPFLAGS=\"-I/opt/gtk/include\"\nRUN LDFLAGS=\"-L/opt/gtk/lib\"\nRUN PKG_CONFIG_PATH=\"/opt/gtk/lib/pkgconfig\"\nRUN export CPPFLAGS LDFLAGS PKG_CONFIG_PATH\nRUN ./configure --prefix=/opt/gtk\nRUN make\nRUN make install\n\n# running ldconfig after make install so that the newly installed libraries are found.\nRUN ldconfig\n\n# Setting the LD_LIBRARY_PATH environment variable so the systems dynamic linker can find the newly installed libraries.\nRUN LD_LIBRARY_PATH=\"/opt/gtk/lib\"\n\n# Updating PATH environment program so that utility binaries installed by the various libraries will be found.\nRUN PATH=\"/opt/gtk/bin:$PATH\"\nRUN export LD_LIBRARY_PATH PATH\n\n# Collecting garbage\nRUN rm -rf gtk+-3.12.2.tar.xz\n\n# creating go code root\nRUN mkdir gocode\nRUN mkdir gocode/src\nRUN mkdir gocode/bin\nRUN mkdir gocode/pkg\n\n# Setting the GOROOT and GOPATH enviornment variables, any commands created are automatically added to PATH\nRUN GOROOT=/usr/lib/go\nRUN GOPATH=/root/gocode\nRUN PATH=$GOPATH/bin:$PATH\nRUN export GOROOT GOPATH PATH\n</code></pre>\n"}, {"tags": ["docker", "docker-container"], "owner": {"account_id": 1451118, "reputation": 10808, "user_id": 1368032, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/65064fdc2d70b7fa84725c68a89a4b5a?s=256&d=identicon&r=PG", "display_name": "Tri Nguyen", "link": "https://stackoverflow.com/users/1368032/tri-nguyen"}, "is_answered": true, "view_count": 896175, "closed_date": 1647251538, "accepted_answer_id": 31328031, "answer_count": 17, "score": 770, "last_activity_date": 1708948911, "creation_date": 1436464888, "last_edit_date": 1647251524, "question_id": 31324981, "link": "https://stackoverflow.com/questions/31324981/how-to-access-host-port-from-docker-container", "closed_reason": "Duplicate", "title": "How to access host port from docker container", "body": "<p>I have a docker container running jenkins. As part of the build process, I need to access a web server that is run locally on the host machine. Is there a way the host web server (which can be configured to run on a port) can be exposed to the jenkins container?</p>\n<p>I'm running docker natively on a Linux machine.</p>\n<p>UPDATE:</p>\n<p>In addition to @larsks answer below, to get the IP address of the Host IP from the host machine, I do the following:</p>\n<pre><code>ip addr show docker0 | grep -Po 'inet \\K[\\d.]+'\n</code></pre>\n"}, {"tags": ["docker", "port", "publish", "docker-run"], "owner": {"account_id": 1620232, "reputation": 11437, "user_id": 1496984, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/05a8dd3c34982b97a6aa5038347fd143?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "user1496984", "link": "https://stackoverflow.com/users/1496984/user1496984"}, "is_answered": true, "view_count": 320939, "accepted_answer_id": 22150099, "answer_count": 8, "score": 761, "last_activity_date": 1684217180, "creation_date": 1393655753, "last_edit_date": 1660760394, "question_id": 22111060, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/22111060/what-is-the-difference-between-expose-and-publish-in-docker", "title": "What is the difference between &quot;expose&quot; and &quot;publish&quot; in Docker?", "body": "<p>I'm experimenting with Dockerfiles, and I think I understand most of the logic. However, I don't see the difference between \"exposing\" and \"publishing\" a port in this context.</p>\n\n<p>All the tutorials I have seen first include the <code>EXPOSE</code> command in the Dockerfile:</p>\n\n<pre><code>...\nEXPOSE 8080\n...\n</code></pre>\n\n<p>They then build an image from this Dockerfile:</p>\n\n<pre><code>$ docker build -t an_image - &lt; Dockerfile\n</code></pre>\n\n<p>And then <em>publish</em> the same port as above when running the image:</p>\n\n<pre><code>$ docker run -d -p 8080 an_image\n</code></pre>\n\n<p>or publish all ports using</p>\n\n<pre><code>$ docker run -d -P an_image\n</code></pre>\n\n<p>What is the point of exposing a port in the Dockerfile, if it will be published anyway? Would there ever be a need to expose a port first, and <em>not</em> publish it later? Effectively, I would like to specify all the ports that I will use in the Dockerfile when creating the image, and then not bother with them again, running them simply with:</p>\n\n<pre><code>$ docker run -d an_image\n</code></pre>\n\n<p>Is this possible?</p>\n"}, {"tags": ["ubuntu", "docker", "ping"], "owner": {"account_id": 138328, "reputation": 84909, "user_id": 343204, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.sstatic.net/uOZYt.jpg?s=256", "display_name": "Snowcrash", "link": "https://stackoverflow.com/users/343204/snowcrash"}, "is_answered": true, "view_count": 1152323, "accepted_answer_id": 39901446, "answer_count": 8, "score": 751, "last_activity_date": 1696782648, "creation_date": 1475771587, "question_id": 39901311, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/39901311/docker-ubuntu-bash-ping-command-not-found", "title": "Docker - Ubuntu - bash: ping: command not found", "body": "<p>I've got a Docker container running Ubuntu which I did as follows:</p>\n\n<pre><code>docker run -it ubuntu /bin/bash\n</code></pre>\n\n<p>however it doesn't seem to have <code>ping</code>. E.g.</p>\n\n<pre><code>bash: ping: command not found\n</code></pre>\n\n<p>Do I need to install that?</p>\n\n<p>Seems a pretty basic command to be missing. I tried <code>whereis ping</code> which doesn't report anything.</p>\n"}, {"tags": ["docker", "docker-network"], "owner": {"account_id": 40880, "reputation": 17204, "user_id": 118644, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/773932622381f87d558a0a28d478fc59?s=256&d=identicon&r=PG", "display_name": "nubela", "link": "https://stackoverflow.com/users/118644/nubela"}, "is_answered": true, "view_count": 600538, "accepted_answer_id": 20851484, "answer_count": 7, "score": 745, "last_activity_date": 1698665566, "creation_date": 1388427224, "last_edit_date": 1507564735, "question_id": 20845056, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/20845056/how-can-i-expose-more-than-1-port-with-docker", "title": "How can I expose more than 1 port with Docker?", "body": "<p>So I have 3 ports that should be exposed to the machine's interface. Is it possible to do this with a Docker container?</p>\n"}, {"tags": ["ubuntu", "memory", "docker", "temp"], "owner": {"account_id": 4954025, "reputation": 19138, "user_id": 3987161, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ebe8e815bff51224815a35cb1aab06a2?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "user_mda", "link": "https://stackoverflow.com/users/3987161/user-mda"}, "is_answered": true, "view_count": 714813, "protected_date": 1666080514, "answer_count": 32, "score": 743, "last_activity_date": 1689034402, "creation_date": 1433273035, "last_edit_date": 1523936337, "question_id": 30604846, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/30604846/docker-error-no-space-left-on-device", "title": "Docker error : no space left on device", "body": "<p>I installed docker on a Debian 7 machine in the following way </p>\n\n<pre><code>$ echo deb http://get.docker.io/ubuntu docker main &gt; /etc/apt/sources.list.d/docker.list\n$ sudo apt-get update\n$ curl -sSL https://get.docker.com/ubuntu/ | sudo sh\n</code></pre>\n\n<p>After that when I first tried creating an Image it failed with the following error</p>\n\n<pre><code> time=\"2015-06-02T14:26:37-04:00\" level=info msg=\"[8] System error: write /sys/fs/cgroup/docker/01f5670fbee1f6687f58f3a943b1e1bdaec2630197fa4da1b19cc3db7e3d3883/cgroup.procs: no space left on device\"\n</code></pre>\n\n<p>Here is the docker info </p>\n\n<pre><code>Containers: 2\nImages: 21\nStorage Driver: aufs\nRoot Dir: /var/lib/docker/aufs\nBacking Filesystem: extfs\nDirs: 25\nDirperm1 Supported: true\nExecution Driver: native-0.2\nKernel Version: 3.16.0-0.bpo.4-amd64\nOperating System: Debian GNU/Linux 7 (wheezy)\nCPUs: 2\n Total Memory: 15.7 GiB\n\n\nWARNING: No memory limit support\n WARNING: No swap limit support\n</code></pre>\n\n<p>How can I increase the memory? Where are the system configurations stored?</p>\n\n<p>From Kal's suggestions:</p>\n\n<p>When I got rid of all the images and containers it did free some space and the image build ran longer before failing with the same error. So the question is, which space is this referring to and how do I configure it?</p>\n"}, {"tags": ["docker", "docker-run"], "owner": {"account_id": 145457, "reputation": 15351, "user_id": 355281, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bce621b848da718becc882a98e788857?s=256&amp;d=identicon&amp;r=PG", "display_name": "Rubytastic", "link": "https://stackoverflow.com/users/355281/rubytastic"}, "is_answered": true, "view_count": 747952, "answer_count": 22, "score": 726, "last_activity_date": 1700664752, "creation_date": 1438165570, "last_edit_date": 1660070999, "question_id": 31697828, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/31697828/docker-name-is-already-in-use-by-container", "title": "Docker - Name is already in use by container", "body": "<p>Running the <code>docker</code> registry with below command always throws an error:</p>\n<pre><code>dev:tmp me$ docker run \\\n     -d --name registry-v1 \\\n     -e SETTINGS_FLAVOR=local \\\n     -e STORAGE_PATH=/registry \\\n     -e SEARCH_BACKEND=sqlalchemy \\\n     -e LOGLEVEL=DEBUG \\\n     -p 5000:5000 \\\n     registry:0.9.1\nError response from daemon: Conflict. The name &quot;registry-v1&quot; is already in use by container f9e5798a82e0. You have to delete (or rename) that container to be able to reuse that name.\n</code></pre>\n<p><strong>How can I prevent this error ?</strong></p>\n"}, {"tags": ["docker", "docker-registry"], "owner": {"account_id": 244890, "reputation": 15304, "user_id": 518012, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/7792f4858924a9c1b47c7422bd84864d?s=256&d=identicon&r=PG", "display_name": "Eugene Goldberg", "link": "https://stackoverflow.com/users/518012/eugene-goldberg"}, "is_answered": true, "view_count": 933117, "protected_date": 1610235746, "accepted_answer_id": 28349540, "answer_count": 14, "score": 706, "last_activity_date": 1656089586, "creation_date": 1423154569, "last_edit_date": 1588182052, "question_id": 28349392, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/28349392/how-to-push-a-docker-image-to-a-private-repository", "title": "How to push a docker image to a private repository", "body": "<p>I have a docker image tagged as <code>me/my-image</code>, and I have a private repo on the dockerhub named <code>me-private</code>.<br>\nWhen I push my <code>me/my-image</code>, I end up always hitting the public repo.</p>\n\n<p>What is the exact syntax to specifically push my image to my private repo? </p>\n"}, {"tags": ["docker", "dockerfile", "docker-run", "docker-cmd"], "owner": {"account_id": 8518688, "reputation": 7927, "user_id": 6386350, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9de94c57073004319b99fbc77806b912?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "TakeSoUp", "link": "https://stackoverflow.com/users/6386350/takesoup"}, "is_answered": true, "view_count": 365092, "accepted_answer_id": 37462208, "answer_count": 10, "score": 696, "last_activity_date": 1713299553, "creation_date": 1464268280, "last_edit_date": 1713299553, "question_id": 37461868, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/37461868/difference-between-run-and-cmd-in-a-dockerfile", "title": "Difference between RUN and CMD in a Dockerfile", "body": "<p>I'm confused about when should I use <code>CMD</code> vs <code>RUN</code>. For example, to execute bash/shell commands (i.e. <code>ls -la</code>) I would always use <code>CMD</code> or is there a situation where I would use <code>RUN</code>? Trying to understand the best practices about these two similar <code>Dockerfile</code> directives.</p>\n"}, {"tags": ["docker", "tty"], "owner": {"account_id": 1475308, "reputation": 12614, "user_id": 1385833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.sstatic.net/b0KdV.png?s=256", "display_name": "Programster", "link": "https://stackoverflow.com/users/1385833/programster"}, "is_answered": true, "view_count": 606723, "accepted_answer_id": 26496854, "answer_count": 11, "score": 681, "last_activity_date": 1675246909, "creation_date": 1388916821, "last_edit_date": 1524188537, "question_id": 20932357, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/20932357/how-to-enter-in-a-docker-container-already-running-with-a-new-tty", "title": "How to enter in a Docker container already running with a new TTY", "body": "<p>I have a container that is running the Apache service in the foreground. I would like to be able to access the container from another shell in order to \"poke around\" inside it and examine the files. At the moment, if I attach to the container, I am left looking at the Apache daemon and cannot run any commands.</p>\n\n<p>Is it possible to attach another tty to a running container? Possibly, I can take advantage of the fact that Docker is actually just wrapping around LXC containers? I have tried <code>sudo lxc-console -n [container-id] -t [1-4]</code> but it appears that only one tty is made available and that is the one running the apache daemon. Perhaps there is a way to enable multiple lxc consoles during the build?</p>\n\n<p>I would rather <strong>not</strong> configure and build the container with an openssh service if possible.</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 357255, "reputation": 21256, "user_id": 697313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da662920af09f214fedee863778d34f?s=256&d=identicon&r=PG", "display_name": "Yaroslav Stavnichiy", "link": "https://stackoverflow.com/users/697313/yaroslav-stavnichiy"}, "is_answered": true, "view_count": 607100, "answer_count": 14, "score": 669, "last_activity_date": 1653899451, "creation_date": 1415101702, "last_edit_date": 1475014543, "question_id": 26734402, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/26734402/how-to-upgrade-docker-container-after-its-image-changed", "title": "How to upgrade docker container after its image changed", "body": "<p>Let's say I have pulled the official <a href=\"https://registry.hub.docker.com/_/mysql/\" rel=\"noreferrer\">mysql:5.6.21 image</a>. </p>\n\n<p>I have deployed this image by creating several docker containers.</p>\n\n<p>These containers have been running for some time until MySQL 5.6.22 is released. The official image of mysql:5.6 gets updated with the new release, but my containers still run 5.6.21.</p>\n\n<p>How do I propagate the changes in the image (i.e. upgrade MySQL distro) to all my existing containers? What is the proper Docker way of doing this?</p>\n"}, {"tags": ["docker", "docker-compose"], "owner": {"account_id": 2391382, "reputation": 22650, "user_id": 2091169, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.sstatic.net/MT8tZ.jpg?s=256", "display_name": "Jivan", "link": "https://stackoverflow.com/users/2091169/jivan"}, "is_answered": true, "view_count": 569658, "accepted_answer_id": 38089080, "answer_count": 21, "score": 663, "last_activity_date": 1718992367, "creation_date": 1467159237, "last_edit_date": 1646135699, "question_id": 38088279, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/38088279/communication-between-multiple-docker-compose-projects", "title": "Communication between multiple docker-compose projects", "body": "<p>I have two separate <code>docker-compose.yml</code> files in two different folders:</p>\n\n<ul>\n<li><code>~/front/docker-compose.yml</code></li>\n<li><code>~/api/docker-compose.yml</code></li>\n</ul>\n\n<p>How can I make sure that a container in <code>front</code> can send requests to a container in <code>api</code>?</p>\n\n<p>I know that <code>--default-gateway</code> option can be set using <code>docker run</code> for an individual container, so that a specific IP address can be assigned to this container, but it seems that this option is not available when using <code>docker-compose</code>.</p>\n\n<p>Currently I end up doing a <code>docker inspect my_api_container_id</code> and look at the gateway in the output. It works but the problem is that this IP is randomly attributed, so I can't rely on it.</p>\n\n<p>Another form of this question might thus be:</p>\n\n<ul>\n<li>Can I attribute a fixed IP address to a particular container using docker-compose?</li>\n</ul>\n\n<p>But in the end what I'm looking after is:</p>\n\n<ul>\n<li>How can two different docker-compose projects communicate with each other?</li>\n</ul>\n"}, {"tags": ["linux", "docker", "kubernetes", "docker-compose", "minikube"], "owner": {"account_id": 9337022, "reputation": 7561, "user_id": 6930923, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2c0a4e3912b5d7ab4825e56e3fa0689a?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "Kapil Gupta", "link": "https://stackoverflow.com/users/6930923/kapil-gupta"}, "is_answered": true, "view_count": 438981, "protected_date": 1671125288, "accepted_answer_id": 42564211, "answer_count": 34, "score": 661, "last_activity_date": 1717599451, "creation_date": 1488482194, "last_edit_date": 1717599451, "question_id": 42564058, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/42564058/how-can-i-use-local-docker-images-with-minikube", "title": "How can I use local Docker images with Minikube?", "body": "<p>I have several Docker images that I want to use with <a href=\"https://kubernetes.io/docs/tasks/tools/install-minikube/\" rel=\"noreferrer\">Minikube</a>. I don't want to first have to upload and then download the same image instead of just using the local image directly. How do I do this?</p>\n<p>Stuff I tried:</p>\n<p><br>1. I tried running these commands (separately, deleting the instances of Minikube both times and starting fresh)</p>\n<pre class=\"lang-none prettyprint-override\"><code>kubectl run hdfs --image=fluxcapacitor/hdfs:latest --port=8989\nkubectl run hdfs --image=fluxcapacitor/hdfs:latest --port=8989 imagePullPolicy=Never\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>NAME                    READY     STATUS              RESTARTS   AGE\nhdfs-2425930030-q0sdl   0/1       ContainerCreating   0          10m\n</code></pre>\n<p>It just gets stuck on some status but never reaches the ready state.</p>\n<p><br>2. I tried creating a registry and then putting images into it, but that didn't work either. I might've done that incorrectly but I can't find proper instructions to do this task.</p>\n<p>Please provide instructions to use local Docker images in a local Kubernetes instance.</p>\n<p>OS: <a href=\"https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_16.04_LTS_.28Xenial_Xerus.29\" rel=\"noreferrer\">Ubuntu 16.04</a> (Xenial Xerus) <br />\nDocker: Docker version 1.13.1, build 092cba3 <br />\nKubernetes:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Client Version: version.Info{Major:&quot;1&quot;, Minor:&quot;5&quot;, GitVersion:&quot;v1.5.3&quot;, GitCommit:&quot;029c3a408176b55c30846f0faedf56aae5992e9b&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2017-02-15T06:40:50Z&quot;, GoVersion:&quot;go1.7.4&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;}\nServer Version: version.Info{Major:&quot;1&quot;, Minor:&quot;5&quot;, GitVersion:&quot;v1.5.2&quot;, GitCommit:&quot;08e099554f3c31f6e6f07b448ab3ed78d0520507&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;1970-01-01T00:00:00Z&quot;, GoVersion:&quot;go1.7.1&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;}\n</code></pre>\n<p>What is a solution that uses docker-compose to do this?</p>\n<p>Images loaded in <code>eval $(minikube docker-env)</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>REPOSITORY                                           TAG     IMAGE ID      CREATED       SIZE\nfluxcapacitor/jupyterhub                             latest  e5175fb26522  4 weeks ago   9.59 GB\nfluxcapacitor/zeppelin                               latest  fe4bc823e57d  4 weeks ago   4.12 GB\nfluxcapacitor/prediction-pmml                        latest  cae5b2d9835b  4 weeks ago   973 MB\nfluxcapacitor/scheduler-airflow                      latest  95adfd56f656  4 weeks ago   8.89 GB\nfluxcapacitor/loadtest                               latest  6a777ab6167c  5 weeks ago   899 MB\nfluxcapacitor/hdfs                                   latest  00fa0ed0064b  6 weeks ago   1.16 GB\nfluxcapacitor/sql-mysql                              latest  804137671a8c  7 weeks ago   679 MB\nfluxcapacitor/metastore-1.2.1                        latest  ea7ce8c5048f  7 weeks ago   1.35 GB\nfluxcapacitor/cassandra                              latest  3cb5ff117283  7 weeks ago   953 MB\nfluxcapacitor/apachespark-worker-2.0.1               latest  14ee3e4e337c  7 weeks ago   3.74 GB\nfluxcapacitor/apachespark-master-2.0.1               latest  fe60b42d54e5  7 weeks ago   3.72 GB\nfluxcapacitor/package-java-openjdk-1.8               latest  1db08965289d  7 weeks ago   841 MB\ngcr.io/google_containers/kubernetes-dashboard-amd64  v1.5.1  1180413103fd  7 weeks ago   104 MB\nfluxcapacitor/stream-kafka-0.10                      latest  f67750239f4d  2 months ago  1.14 GB\nfluxcapacitor/pipeline                               latest  f6afd6c5745b  2 months ago  11.2 GB\ngcr.io/google-containers/kube-addon-manager          v6.1    59e1315aa5ff  3 months ago  59.4 MB\ngcr.io/google_containers/kubedns-amd64               1.9     26cf1ed9b144  3 months ago  47 MB\ngcr.io/google_containers/kube-dnsmasq-amd64          1.4     3ec65756a89b  5 months ago  5.13 MB\ngcr.io/google_containers/exechealthz-amd64           1.2     93a43bfb39bf  5 months ago  8.37 MB\ngcr.io/google_containers/pause-amd64\n</code></pre>\n"}, {"tags": ["docker", "docker-compose", "docker-container"], "owner": {"account_id": 2541245, "reputation": 7563, "user_id": 2207007, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3e99932da035fd76f558e408b024c56?s=256&d=identicon&r=PG", "display_name": "yuklia", "link": "https://stackoverflow.com/users/2207007/yuklia"}, "is_answered": true, "view_count": 1135061, "answer_count": 14, "score": 660, "last_activity_date": 1720024076, "creation_date": 1461747470, "last_edit_date": 1666121947, "question_id": 36884991, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/36884991/how-to-rebuild-docker-container-in-docker-compose-yml", "title": "How to rebuild docker container in docker-compose.yml?", "body": "<p>There are scope of services which are defined in docker-compose.yml. These services have been started. I need to rebuild only one of these and start it without up other services.\nI run the following commands:</p>\n<pre><code>docker-compose up -d # run all services\ndocker-compose stop nginx # stop only one. but it is still running !!!\ndocker-compose build --no-cache nginx \ndocker-compose up -d --no-deps # link nginx to other services\n</code></pre>\n<p>At the end I get the old nginx container.\nDocker-compose doesn't kill all running containers!</p>\n"}, {"tags": ["docker", "docker-compose"], "owner": {"account_id": 1730381, "reputation": 15626, "user_id": 1584115, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2ce85ba2cd6de120939b5f1275c9d14?s=256&d=identicon&r=PG", "display_name": "svenhornberg", "link": "https://stackoverflow.com/users/1584115/svenhornberg"}, "is_answered": true, "view_count": 660519, "protected_date": 1547597889, "accepted_answer_id": 41854997, "answer_count": 20, "score": 660, "last_activity_date": 1705900274, "creation_date": 1438345523, "last_edit_date": 1646131379, "question_id": 31746182, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/31746182/docker-compose-wait-for-container-x-before-starting-y", "title": "Docker Compose wait for container X before starting Y", "body": "<p>I am using rabbitmq and a simple python sample from <a href=\"https://www.rabbitmq.com/tutorials/tutorial-one-python.html\" rel=\"noreferrer\">here</a>\ntogether with docker-compose. My problem is that I need to wait for rabbitmq to be fully started. From what I searched so far, I don't know how to wait with container x (in my case worker) until y (rabbitmq) is started.</p>\n<p>I found this <a href=\"http://blog.chmouel.com/2014/11/04/avoiding-race-conditions-between-containers-with-docker-and-fig/\" rel=\"noreferrer\">blog post</a> where he checks if the other host is online.\nI also found this <a href=\"https://docs.docker.com/reference/commandline/wait/\" rel=\"noreferrer\">docker command</a>:</p>\n<blockquote>\n<p><strong>wait</strong></p>\n<p>Usage: docker wait CONTAINER [CONTAINER...]</p>\n<p>Block until a container stops, then print its exit code.</p>\n</blockquote>\n<p>Waiting for a container to stop is maybe not what I am looking for but if\nit is, is it possible to use that command inside the docker-compose.yml?\nMy solution so far is to wait some seconds and check the port, but is this the way to achieve this? If I don't wait, I get an error.</p>\n<p><strong>docker-compose.yml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>worker:\n    build: myapp/.\n    volumes:\n    - myapp/.:/usr/src/app:ro\n\n    links:\n    - rabbitmq\nrabbitmq:\n    image: rabbitmq:3-management\n</code></pre>\n<p><strong>python hello sample (rabbit.py):</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>import pika\nimport time\n\nimport socket\n\npingcounter = 0\nisreachable = False\nwhile isreachable is False and pingcounter &lt; 5:\n    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    try:\n        s.connect(('rabbitmq', 5672))\n        isreachable = True\n    except socket.error as e:\n        time.sleep(2)\n        pingcounter += 1\n    s.close()\n\nif isreachable:\n    connection = pika.BlockingConnection(pika.ConnectionParameters(\n            host=&quot;rabbitmq&quot;))\n    channel = connection.channel()\n\n    channel.queue_declare(queue='hello')\n\n    channel.basic_publish(exchange='',\n                          routing_key='hello',\n                          body='Hello World!')\n    print (&quot; [x] Sent 'Hello World!'&quot;)\n    connection.close()\n</code></pre>\n<p><strong>Dockerfile for worker:</strong></p>\n<pre><code>FROM python:2-onbuild\nRUN [&quot;pip&quot;, &quot;install&quot;, &quot;pika&quot;]\n\nCMD [&quot;python&quot;,&quot;rabbit.py&quot;]\n</code></pre>\n<p><strong>Update Nov 2015</strong>:</p>\n<p>A shell script or waiting inside your program is maybe a possible solution. But after seeing this <a href=\"https://github.com/docker/compose/issues/374\" rel=\"noreferrer\">Issue</a> I am looking for a command or feature of docker/docker-compose itself.</p>\n<p>They mention a  solution for implementing a health check, which may be the best option. A open tcp connection does not mean your service is ready or may remain ready. In addition to that I need to change my entrypoint in my dockerfile.</p>\n<p>So I am hoping for an answer with docker-compose on board commands, which will hopefully the case if they finish this issue.</p>\n<p><strong>Update March 2016</strong></p>\n<p>There is a <a href=\"https://github.com/docker/docker/issues/21142\" rel=\"noreferrer\">proposal</a> for providing a built-in way to determine if a container is &quot;alive&quot;. So docker-compose can maybe make use of it in near future.</p>\n<p><strong>Update June 2016</strong></p>\n<p>It seems that the healthcheck will be <a href=\"https://github.com/docker/docker/pull/23218\" rel=\"noreferrer\">integrated</a> into docker in Version 1.12.0</p>\n<p><strong>Update January 2017</strong></p>\n<p>I found a docker-compose solution see:\n<a href=\"https://stackoverflow.com/questions/31746182/docker-compose-wait-for-container-x-before-starting-y/41854997#41854997\">Docker Compose wait for container X before starting Y</a></p>\n"}, {"tags": ["docker", "docker-compose", "dockerfile", "development-environment", "boot2docker"], "owner": {"account_id": 2159357, "reputation": 20540, "user_id": 1913888, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.sstatic.net/MqCvM.jpg?s=256", "display_name": "Aaron Lelevier", "link": "https://stackoverflow.com/users/1913888/aaron-lelevier"}, "is_answered": true, "view_count": 327279, "accepted_answer_id": 29487120, "answer_count": 12, "score": 656, "last_activity_date": 1720913880, "creation_date": 1428356203, "last_edit_date": 1651915951, "question_id": 29480099, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/29480099/whats-the-difference-between-docker-compose-vs-dockerfile", "title": "What&#39;s the difference between Docker Compose vs. Dockerfile", "body": "<p>I have been reading up and learning about <a href=\"https://docs.docker.com/\" rel=\"noreferrer\">Docker</a>, and am trying to correctly choose the Django setup to use. So far there is either:</p>\n<p><a href=\"https://docs.docker.com/compose/\" rel=\"noreferrer\">Docker Compose</a> or <a href=\"https://docs.docker.com/engine/reference/builder/\" rel=\"noreferrer\">Dockerfile</a></p>\n<p>I understand that <em>Dockerfiles</em> are used in <em>Docker Compose</em>, but I am not sure if it is good practice to put everything in one large Dockerfile with multiple <code>FROM</code> commands for the different images?</p>\n<p>I want to use several different images that include:</p>\n<pre><code>uwsgi\nnginx\npostgres\nredis\nrabbitmq\ncelery with cron\n</code></pre>\n<p>Please advise on what are best practices in setting up this type of environment using <em>Docker</em>.</p>\n<p>If it helps, I am on a Mac, so using <a href=\"https://github.com/boot2docker\" rel=\"noreferrer\">boot2docker</a>.</p>\n<p>Some issues I've had:</p>\n<ol>\n<li>Docker Compose is not compatible with Python3</li>\n<li>I want to containerize my project, so if one large Dockerfile\nis not ideal, then I feel I'd need to break it up using Docker Compose</li>\n<li>I am OK to make the project Py2 &amp; Py3 compatible, so am leaning towards django-compose</li>\n</ol>\n"}, {"tags": ["docker", "dockerfile"], "owner": {"account_id": 2704333, "reputation": 10968, "user_id": 2334254, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-6e2XuTZAjgM/AAAAAAAAAAI/AAAAAAAAABU/JpF2-AkHsH4/photo.jpg?sz=256", "display_name": "kpie", "link": "https://stackoverflow.com/users/2334254/kpie"}, "is_answered": true, "view_count": 307509, "accepted_answer_id": 36710513, "answer_count": 7, "score": 647, "last_activity_date": 1631946709, "creation_date": 1461048125, "last_edit_date": 1554238790, "question_id": 36710459, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/36710459/how-do-i-make-a-comment-in-a-dockerfile", "title": "How do I make a comment in a Dockerfile?", "body": "<p>I am writing a Dockerfile. Is there a way to make comments in this file?</p>\n\n<p>Does Docker have a comment option that takes the rest of a line and ignores it?</p>\n"}, {"tags": ["docker", "tags", "dockerfile"], "owner": {"account_id": 1677076, "reputation": 19708, "user_id": 1542343, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0c67fc696612cc6c62a17d8bb2fdd17f?s=256&d=identicon&r=PG", "display_name": "gvlasov", "link": "https://stackoverflow.com/users/1542343/gvlasov"}, "is_answered": true, "view_count": 820555, "accepted_answer_id": 38986676, "answer_count": 7, "score": 647, "last_activity_date": 1723187171, "creation_date": 1471390654, "last_edit_date": 1548161736, "question_id": 38986057, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/38986057/how-to-set-image-name-in-dockerfile", "title": "How to set image name in Dockerfile?", "body": "<p>You can set image name when building a custom image, like this:</p>\n\n<pre><code>docker build -t dude/man:v2 . # Will be named dude/man:v2\n</code></pre>\n\n<p>Is there a way to define the name of the image in Dockerfile, so I don't have to mention it in the <code>docker build</code> command?</p>\n"}, {"tags": ["docker", "dockerfile", "docker-copy"], "owner": {"account_id": 1266843, "reputation": 98111, "user_id": 1223975, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.sstatic.net/lpyoU.jpg?s=256", "display_name": "Alexander Mills", "link": "https://stackoverflow.com/users/1223975/alexander-mills"}, "is_answered": true, "view_count": 445386, "accepted_answer_id": 43747867, "answer_count": 10, "score": 645, "last_activity_date": 1721800957, "creation_date": 1493761682, "question_id": 43747776, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/43747776/copy-with-docker-but-with-exclusion", "title": "COPY with docker but with exclusion", "body": "<p>In a Dockerfile, I have</p>\n\n<pre><code>COPY . .\n</code></pre>\n\n<p>I want to exclude an entire directory, in my case, node_modules directory.</p>\n\n<p>Something like this:</p>\n\n<pre><code>   COPY [all but **/node_modules/**] .\n</code></pre>\n\n<p>Is this possible with Docker?</p>\n"}, {"tags": ["shell", "docker", "interactive", "docker-compose"], "owner": {"account_id": 5032189, "reputation": 15581, "user_id": 4042051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0034b5b68abfb84f330026c40548085d?s=256&d=identicon&r=PG", "display_name": "drubb", "link": "https://stackoverflow.com/users/4042051/drubb"}, "is_answered": true, "view_count": 705857, "protected_date": 1704398443, "answer_count": 14, "score": 638, "last_activity_date": 1705685161, "creation_date": 1459095957, "last_edit_date": 1613377420, "question_id": 36249744, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/36249744/interactive-shell-using-docker-compose", "title": "Interactive shell using Docker Compose", "body": "<p>Is there any way to start an interactive shell in a container using Docker Compose only? I've tried something like this, in my docker-compose.yml:</p>\n<pre><code>myapp:\n  image: alpine:latest\n  entrypoint: /bin/sh\n</code></pre>\n<p>When I start this container using docker-compose up it's exited immediately. Are there any flags I can add to the <code>entrypoint</code> command, or as an additional option to <code>myapp</code>, to start an interactive shell?</p>\n<p>I know there are native docker command options to achieve this, just curious if it's possible using only Docker Compose, too.</p>\n"}, {"tags": ["linux", "docker"], "owner": {"account_id": 1620906, "reputation": 7879, "user_id": 1497484, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/adde7be8481c61323c5d57bd02026cab?s=256&d=identicon&r=PG", "display_name": "LiJung", "link": "https://stackoverflow.com/users/1497484/lijung"}, "is_answered": true, "view_count": 1078860, "protected_date": 1500656979, "answer_count": 46, "score": 631, "last_activity_date": 1714847853, "creation_date": 1392786142, "last_edit_date": 1489250332, "question_id": 21871479, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/21871479/docker-cant-connect-to-docker-daemon", "title": "Docker can&#39;t connect to docker daemon", "body": "<p>After I update my Docker version to <code>0.8.0</code>, I get an error message while entering <code>sudo docker version</code>:</p>\n\n<pre><code>Client version: 0.8.0\nGo version (client): go1.2\nGit commit (client): cc3a8c8\n2014/02/19 12:54:16 Can't connect to docker daemon. Is 'docker -d' running on this host?\n</code></pre>\n\n<p>And I've followed the instructions and entered command <code>sudo docker -d</code>, and I got this:</p>\n\n<pre><code>[/var/lib/docker|2462000b] +job initserver()\n[/var/lib/docker|2462000b.initserver()] Creating server\nopen /var/lib/docker/aufs/layers/cf2414da53f9bcfaa48bc3d58360d7f1cfd3784e4fe51fbef95197709dfc285d: no such file or directory[/var/lib/docker|2462000b] -job initserver() = ERR (1)\n2014/02/19 12:55:57 initserver: open /var/lib/docker/aufs/layers/cf2414da53f9bcfaa48bc3d58360d7f1cfd3784e4fe51fbef95197709dfc285d: no such file or directory\n</code></pre>\n\n<p>How do I solve the problem?</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 947457, "reputation": 20726, "user_id": 974407, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/19c57d25aa8932f3c41257ab756b69eb?s=256&d=identicon&r=PG", "display_name": "Johnston", "link": "https://stackoverflow.com/users/974407/johnston"}, "is_answered": true, "view_count": 754431, "accepted_answer_id": 27708039, "answer_count": 21, "score": 624, "last_activity_date": 1704732679, "creation_date": 1412217265, "last_edit_date": 1489432224, "question_id": 26153686, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/26153686/how-do-i-run-a-command-on-an-already-existing-docker-container", "title": "How do I run a command on an already existing Docker container?", "body": "<p>I created a container with <code>-d</code> so it's not interactive.</p>\n\n<pre><code>docker run -d shykes/pybuilder bin/bash\n</code></pre>\n\n<p>I see that the container has exited:</p>\n\n<pre><code>CONTAINER ID        IMAGE                     COMMAND             CREATED             STATUS                      PORTS               NAMES\nd6c45e8cc5f0        shykes/pybuilder:latest   \"bin/bash\"          41 minutes ago      Exited (0) 2 seconds ago                        clever_bardeen\n</code></pre>\n\n<p>Now I would like to run occasional commands on the machine and exit. Just to get the response.</p>\n\n<p>I tried to start the machine. I tried attaching. I thought I could call <code>run</code> with a container, but that does not seem to be allowed. Using <code>start</code> just seems to run and then exist quickly.</p>\n\n<p>I'd like to get back into interactive mode after exiting.</p>\n\n<p>I tried:</p>\n\n<pre><code>docker attach d6c45e8cc5f0\n</code></pre>\n\n<p>But I get:</p>\n\n<pre><code>2014/10/01 22:33:34 You cannot attach to a stopped container, start it first\n</code></pre>\n\n<p>But if I start it, it exits anyway. Catch 22. I can't win.</p>\n"}, {"tags": ["debian", "docker"], "owner": {"account_id": 3283966, "reputation": 7671, "user_id": 2763877, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/acfc4b84e4a30e2a4c989835e33691b2?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "Yves Nicolas", "link": "https://stackoverflow.com/users/2763877/yves-nicolas"}, "is_answered": true, "view_count": 551154, "accepted_answer_id": 26982502, "answer_count": 7, "score": 617, "last_activity_date": 1675932586, "creation_date": 1416259574, "last_edit_date": 1492317189, "question_id": 26982274, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/26982274/ps-command-doesnt-work-in-docker-container", "title": "ps command doesn&#39;t work in docker container", "body": "<p>I want to do a ps command in a docker container derived from Debian official Docker hub repository:</p>\n\n<pre><code>$ docker run -ti debian:wheezy /bin/bash\nroot@51afd6b09af8:/# ps\nbash: ps: command not found\n</code></pre>\n"}, {"tags": ["docker", "docker-compose"], "owner": {"account_id": 322923, "reputation": 46408, "user_id": 642626, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fedc5e6b7fef29a8b539e20da8c85971?s=256&d=identicon&r=PG", "display_name": "Bryan Chen", "link": "https://stackoverflow.com/users/642626/bryan-chen"}, "is_answered": true, "view_count": 489681, "accepted_answer_id": 31485685, "answer_count": 13, "score": 609, "last_activity_date": 1699267411, "creation_date": 1437090901, "last_edit_date": 1624187823, "question_id": 31466428, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/31466428/how-to-restart-a-single-container-with-docker-compose", "title": "How to restart a single container with docker-compose", "body": "<p>I have a <code>docker-compose.yml</code> file that contains 4 containers: <code>redis</code>, <code>postgres</code>, <code>api</code> and <code>worker</code>.</p>\n<p>During the development of the <code>worker</code> container, I often need to restart it in order to apply changes. Is there any good way to restart a single container (e.g. <code>worker</code>) without restarting the others?</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 83290, "reputation": 19866, "user_id": 233618, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0369ab8ffc856174a12e40c437743d8c?s=256&d=identicon&r=PG", "display_name": "pengwang", "link": "https://stackoverflow.com/users/233618/pengwang"}, "is_answered": true, "view_count": 1099354, "protected_date": 1611876665, "accepted_answer_id": 26504961, "answer_count": 6, "score": 606, "last_activity_date": 1696715802, "creation_date": 1413971784, "last_edit_date": 1611877110, "question_id": 26504846, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/26504846/copy-directory-to-another-directory-using-add-command", "title": "Copy directory to another directory using ADD command", "body": "<p>I have read <a href=\"http://docs.docker.com/engine/reference/builder/#add\" rel=\"noreferrer\">http://docs.docker.com/engine/reference/builder/#add</a> however I met a problem. I want to copy the local directory <code>go</code> to docker <code>/user/local/</code></p>\n<p>I tried:</p>\n<pre><code>ADD go /usr/local/\n</code></pre>\n<p>and:</p>\n<pre><code>ADD /go/ /usr/local/ \n</code></pre>\n<p>also:</p>\n<pre><code>RUN chmod 0755 /usr/local/go/src/make.bash\n</code></pre>\n<p>However, I see the following error message:</p>\n<pre><code>/usr/local/go/src/make.bash: No such file or directory\n</code></pre>\n<p>but the local <code>go</code> directory does contain <code>make.bash</code>.</p>\n"}, {"tags": ["docker", "jenkins", "jenkins-pipeline"], "owner": {"account_id": 1355715, "reputation": 8666, "user_id": 1294150, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.sstatic.net/vyetp.jpg?s=256", "display_name": "Ponsuyambu", "link": "https://stackoverflow.com/users/1294150/ponsuyambu"}, "is_answered": true, "view_count": 768079, "protected_date": 1560368282, "accepted_answer_id": 48450294, "answer_count": 45, "score": 583, "last_activity_date": 1722230239, "creation_date": 1513508902, "last_edit_date": 1663269958, "question_id": 47854463, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/47854463/docker-got-permission-denied-while-trying-to-connect-to-the-docker-daemon-socke", "title": "Docker: Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock", "body": "<p>I am new to docker. I just tried to use docker in my local machine(Ubuntu 16.04) with Jenkins.</p>\n<p>I configured a new job with below pipeline script.</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>node {\n    stage('Build') {\n      docker.image('maven:3.3.3').inside {\n        sh 'mvn --version'\n      }\n    }\n}\n</code></pre>\n<p>But it fails with this error:</p>\n<blockquote>\n<p>Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock</p>\n</blockquote>\n<p><a href=\"https://i.sstatic.net/nz6Ig.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/nz6Ig.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["postgresql", "docker", "remote-connection"], "owner": {"account_id": 8317948, "reputation": 6043, "user_id": 6250601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/876bb08d80c9d778cc48240f778758f3?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "Sojo", "link": "https://stackoverflow.com/users/6250601/sojo"}, "is_answered": true, "view_count": 835486, "answer_count": 20, "score": 582, "last_activity_date": 1721921997, "creation_date": 1465367984, "question_id": 37694987, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/37694987/connecting-to-postgresql-in-a-docker-container-from-outside", "title": "Connecting to Postgresql in a docker container from outside", "body": "<p>I have Postgresql on a server in a docker container. How can I connect to it from the outside, that is, from my local computer? What setting should I apply to allow that?</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 85584, "reputation": 9905, "user_id": 238517, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d1abef59c2befdb51063bdea2101d03c?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "mahonya", "link": "https://stackoverflow.com/users/238517/mahonya"}, "is_answered": true, "view_count": 532746, "accepted_answer_id": 33956387, "answer_count": 11, "score": 580, "last_activity_date": 1707181669, "creation_date": 1422976097, "last_edit_date": 1594805504, "question_id": 28302178, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/28302178/how-can-i-add-a-volume-to-an-existing-docker-container", "title": "How can I add a volume to an existing Docker container?", "body": "<p>I have a Docker container that I've created simply by installing Docker on Ubuntu and doing:</p>\n<pre><code>sudo docker run -i -t ubuntu /bin/bash\n</code></pre>\n<p>I immediately started installing Java and some other tools, spent some time with it, and stopped the container by</p>\n<pre><code>exit\n</code></pre>\n<p>Then I wanted to add a volume and realised that this is not as straightforward as I thought it would be. If I use <code>sudo docker -v /somedir run ...</code> then I end up with a fresh new container, so I'd have to install Java and do what I've already done before just to arrive at a container with a mounted volume.</p>\n<p>All the documentation about mounting a folder from the host seems to imply that mounting a volume is something that can be done when creating a container. So the only option I have to avoid reconfiguring a new container from scratch is to commit the existing container to a repository and use that as the basis of a new one whilst mounting the volume.</p>\n<p>Is this indeed the only way to add a volume to an existing container?</p>\n"}, {"tags": ["docker", "docker-compose", "boot2docker", "docker-machine"], "owner": {"account_id": 8374216, "reputation": 7571, "user_id": 6288254, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2c13e436b9ce5a007e02c5f6dc9baf0e?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "Youssouf Maiga", "link": "https://stackoverflow.com/users/6288254/youssouf-maiga"}, "is_answered": true, "view_count": 812712, "accepted_answer_id": 42510314, "answer_count": 26, "score": 577, "last_activity_date": 1723991004, "creation_date": 1488288328, "last_edit_date": 1626264465, "question_id": 42510002, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/42510002/docker-how-to-clear-the-logs-properly-for-a-docker-container", "title": "Docker: How to clear the logs properly for a Docker container?", "body": "<p>I use <code>docker logs [container-name]</code> to see the logs of a specific container.</p>\n\n<p>Is there an elegant way to clear these logs?</p>\n"}, {"tags": ["docker", "docker-compose"], "owner": {"account_id": 4683226, "reputation": 7647, "user_id": 3791380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.sstatic.net/jI09M.jpg?s=256", "display_name": "Jakub Juszczak", "link": "https://stackoverflow.com/users/3791380/jakub-juszczak"}, "is_answered": true, "view_count": 811680, "protected_date": 1532699849, "accepted_answer_id": 42260979, "answer_count": 21, "score": 577, "last_activity_date": 1702024202, "creation_date": 1487158407, "last_edit_date": 1601943551, "question_id": 42248198, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/42248198/how-to-mount-a-single-file-in-a-volume", "title": "How to mount a single file in a volume", "body": "<p>I am trying to dockerize a PHP application. In the dockerfile, I download the archive, extract it, etc.</p>\n<p>Everything works fine. However, if a new version gets released and I update the dockerfile, I have to reinstall the application, because the config.php gets overwritten.</p>\n<p>So I thought I can mount the file as a volume, like I do with the database.</p>\n<p>I tried it two ways, with a volume and a direct path.</p>\n<p>docker-compose:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '2'\nservices:\n  app:\n    build: src\n    ports:\n      - &quot;8080:80&quot;\n    depends_on:\n      - mysql\n    volumes:\n      -  app-conf:/var/www/html/upload\n      -  app-conf:/var/www/html/config.php\n    environment:\n      DB_TYPE: mysql\n      DB_MANAGER: MysqlManager\n\n  mysql:\n    image: mysql:5.6\n    container_name: mysql\n    volumes:\n      - mysqldata:/var/lib/mysql\n    ports:\n      - 3306:3306\n    environment:\n      MYSQL_ROOT_PASSWORD:\n      MYSQL_DATABASE:\n      MYSQL_USER:\n      MYSQL_PASSWORD:\n\nvolumes:\n  mysqldata:\n  app-conf:\n</code></pre>\n<p>Which results in the error:</p>\n<p>And I tried it with a given path, as a mounted volume.</p>\n<pre><code>/src/docker/myapp/upload:/var/www/html/upload\n/src/docker/myapp/upload:/var/www/html/config.php\n</code></pre>\n<p>However, both ways are not working. With the mounted volume, I see that upload gets created.</p>\n<p>But then it fails with:</p>\n<blockquote>\n<p>/var/www/html/config.php\\&quot; caused \\&quot;not a directory\\&quot;&quot;&quot;</p>\n</blockquote>\n<p>If I try it with</p>\n<pre><code>/src/docker/myapp/upload/config.php:/var/www/html/config.php\n</code></pre>\n<p>Docker creates the upload folder and then a config.php folder. Not a file.</p>\n<p>Or is there another way to persist the config?</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 729252, "reputation": 9020, "user_id": 671573, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5a0762a773703c89469bc61f038e4dee?s=256&d=identicon&r=PG", "display_name": "MarkL", "link": "https://stackoverflow.com/users/671573/markl"}, "is_answered": true, "view_count": 496974, "accepted_answer_id": 19689048, "answer_count": 18, "score": 575, "last_activity_date": 1686721761, "creation_date": 1383150014, "last_edit_date": 1675236246, "question_id": 19688314, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/19688314/how-do-you-attach-and-detach-from-dockers-process", "title": "How do you attach and detach from Docker&#39;s process?", "body": "<p>I can attach to a docker process but <kbd>Ctrl</kbd>+<kbd>C</kbd> doesn't work to detach from it. <code>exit</code> basically halts the process.</p>\n<p>What's the recommended workflow to have the process running, occasionally attaching to it to make some changes, and then detaching?</p>\n"}, {"tags": ["docker", "devops", "docker-container", "docker-image", "docker-run"], "owner": {"account_id": 5567504, "reputation": 5771, "user_id": 4414185, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/38510546/picture?type=large", "display_name": "J John", "link": "https://stackoverflow.com/users/4414185/j-john"}, "is_answered": true, "view_count": 923635, "accepted_answer_id": 30209974, "answer_count": 23, "score": 574, "last_activity_date": 1683454603, "creation_date": 1431506466, "last_edit_date": 1642424803, "question_id": 30209776, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/30209776/docker-container-will-automatically-stop-after-docker-run-d", "title": "Docker container will automatically stop after &quot;docker run -d&quot;", "body": "<p>According to tutorial I read so far, use \"<code>docker run -d</code>\" will start a container from image, and the container will run in background. This is how it looks like, we can see we already have container id.</p>\n\n<pre><code>root@docker:/home/root# docker run -d centos\n605e3928cdddb844526bab691af51d0c9262e0a1fc3d41de3f59be1a58e1bd1d\n</code></pre>\n\n<p>But if I ran \"<strong><code>docker ps</code></strong>\", nothing was returned.</p>\n\n<p>So I tried \"<strong><code>docker ps -a</code></strong>\", I can see container already exited:</p>\n\n<pre><code>root@docker:/home/root# docker ps -a\nCONTAINER ID        IMAGE                 COMMAND             CREATED             STATUS                         PORTS               NAMES\n605e3928cddd        centos:latest         \"/bin/bash\"         31 minutes ago      Exited (0) 31 minutes ago                          kickass_swartz\n</code></pre>\n\n<p>Anything I did wrong? How can I troubleshoot this issue?</p>\n"}, {"tags": ["macos", "docker", "macos-sierra"], "owner": {"account_id": 23249, "reputation": 40077, "user_id": 58129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.sstatic.net/MBBRu.jpg?s=256", "display_name": "Anthony Kong", "link": "https://stackoverflow.com/users/58129/anthony-kong"}, "is_answered": true, "view_count": 701916, "protected_date": 1560367264, "accepted_answer_id": 44719239, "answer_count": 39, "score": 568, "last_activity_date": 1714619412, "creation_date": 1495276575, "last_edit_date": 1495541904, "question_id": 44084846, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/44084846/cannot-connect-to-the-docker-daemon-on-macos", "title": "Cannot connect to the Docker daemon on macOS", "body": "<p>I normally prefer to manage my apps on my OSX with brew</p>\n\n<p>I am able to install docker, docker-compose and docker-machine</p>\n\n<pre><code>docker --version\nDocker version 17.05.0-ce, build 89658be\ndocker-compose --version\ndocker-compose version 1.13.0, build unknown\ndocker-machine --version\ndocker-machine version 0.11.0, build 5b27455\n</code></pre>\n\n<p>I did not download and run 'Docker for Mac' app.</p>\n\n<p>However when I try to run</p>\n\n<pre><code>&gt; docker run -d -p 80:80 --name webserver nginx\ndocker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?.\nSee 'docker run --help'.\n</code></pre>\n\n<p>I have already checked the sock file</p>\n\n<pre><code>ls -lah /var/run/docker.sock /var/tmp/docker.sock\nls: /var/run/docker.sock: No such file or directory\nls: /var/tmp/docker.sock: No such file or directory\n</code></pre>\n\n<p>I have also tried this proposed solution: <a href=\"https://stackoverflow.com/questions/36193300/mac-os-x-sudo-docker-cannot-connect-to-the-docker-daemon-is-the-docker-daemon-r\">Mac OS X sudo docker Cannot connect to the Docker daemon. Is the docker daemon running on this host?</a></p>\n\n<p>But I got this error message:</p>\n\n<pre><code>$ eval $(docker-machine env default)\nHost does not exist: \"default\"\n</code></pre>\n\n<p>Is it possible to get a docker service to run by command line tools?</p>\n"}, {"tags": ["docker", "ip"], "owner": {"account_id": 134060, "reputation": 6930, "user_id": 335918, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/35ca76160b03ee978b0b7b1d6e6c8c69?s=256&d=identicon&r=PG", "display_name": "xiamx", "link": "https://stackoverflow.com/users/335918/xiamx"}, "is_answered": true, "view_count": 860103, "protected_date": 1562277975, "accepted_answer_id": 24716645, "answer_count": 28, "score": 568, "last_activity_date": 1713611388, "creation_date": 1396979612, "last_edit_date": 1654474700, "question_id": 22944631, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/22944631/how-to-get-the-ip-address-of-the-docker-host-from-inside-a-docker-container", "title": "How to get the IP address of the docker host from inside a docker container", "body": "<p>As the title says, I need to be able to retrieve the IP address the docker hosts and the portmaps from the host to the container, and doing that inside of the container.</p>\n"}, {"tags": ["copy", "docker", "dockerfile"], "owner": {"account_id": 1262003, "reputation": 11845, "user_id": 1220022, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43dabe4a39f505b3e15c9fba40a1b204?s=256&d=identicon&r=PG", "display_name": "user1220022", "link": "https://stackoverflow.com/users/1220022/user1220022"}, "is_answered": true, "view_count": 612810, "accepted_answer_id": 30220096, "answer_count": 6, "score": 567, "last_activity_date": 1722593482, "creation_date": 1431522582, "last_edit_date": 1667266689, "question_id": 30215830, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/30215830/dockerfile-copy-keep-subdirectory-structure", "title": "Dockerfile copy keep subdirectory structure", "body": "<p>I'm trying to copy a number of files and folders to a docker image build from my localhost.</p>\n<p>The files are like this:</p>\n<pre><code>folder1/\n    file1\n    file2\nfolder2/\n    file1\n    file2\n</code></pre>\n<p>I'm trying to make the copy like this:</p>\n<pre><code>COPY files/* /files/\n</code></pre>\n<p>However, all of the files from <code>folder1/</code> and <code>folder2/</code> are placed in <code>/files/</code> directly, without their folders:</p>\n<pre><code>files/\n    file1\n    file2\n</code></pre>\n<p>Is there a way in Docker to keep the subdirectory structure as well as copying the files into their directories? Like this:</p>\n<pre><code>files/\n    folder1/\n        file1\n        file2\n    folder2/\n        file1\n        file2\n</code></pre>\n"}, {"tags": ["docker", "cron", "containers", "sh"], "owner": {"account_id": 8344643, "reputation": 5453, "user_id": 6268839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7237b954df2aa0f7c8db54eb8ab11b3d?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "C Heyer", "link": "https://stackoverflow.com/users/6268839/c-heyer"}, "is_answered": true, "view_count": 764143, "protected_date": 1671124838, "accepted_answer_id": 37458519, "answer_count": 32, "score": 545, "last_activity_date": 1720078403, "creation_date": 1464258773, "last_edit_date": 1705991755, "question_id": 37458287, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/37458287/how-to-run-a-cron-job-inside-a-docker-container", "title": "How to run a cron job inside a docker container?", "body": "<p>I am trying to run a cronjob inside a docker container that invokes a shell script.</p>\n<p>How can I do this?</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 255268, "reputation": 23849, "user_id": 535203, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dc7657bb53a6ada3d1d86cd88fb7cf03?s=256&d=identicon&r=PG", "display_name": "Anthony O.", "link": "https://stackoverflow.com/users/535203/anthony-o"}, "is_answered": true, "view_count": 510708, "accepted_answer_id": 34300129, "answer_count": 16, "score": 545, "last_activity_date": 1721751401, "creation_date": 1404321876, "question_id": 24537340, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/24537340/docker-adding-a-file-from-a-parent-directory", "title": "Docker: adding a file from a parent directory", "body": "<p>In my <code>Dockerfile</code> I've got :</p>\n\n<pre><code>ADD ../../myapp.war /opt/tomcat7/webapps/\n</code></pre>\n\n<p>That file exists as <code>ls ../../myapp.war</code> returns me the correct file but when I execute <code>sudo docker build -t myapp .</code> I've got :</p>\n\n<pre><code>Step 1 : ADD ../../myapp.war /opt/tomcat7/webapps/\n2014/07/02 19:18:09 ../../myapp.war: no such file or directory\n</code></pre>\n\n<p>Does somebody know why and how to do it correctly?</p>\n"}, {"tags": ["docker", "docker-build"], "owner": {"account_id": 17111003, "reputation": 5814, "user_id": 12381816, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCXY67s58HBo_r4-OcXaVa3z50Nfy-Jk7wzF0_a=k-s256", "display_name": "Noname", "link": "https://stackoverflow.com/users/12381816/noname"}, "is_answered": true, "view_count": 387345, "accepted_answer_id": 64805337, "answer_count": 6, "score": 534, "last_activity_date": 1703166634, "creation_date": 1605187437, "last_edit_date": 1655879425, "question_id": 64804749, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/64804749/why-is-docker-build-not-showing-any-output-from-commands", "title": "Why is docker build not showing any output from commands?", "body": "<p>Snippet from my <code>Dockerfile</code>:</p>\n<pre><code>FROM node:12.18.0\nRUN echo &quot;hello world&quot;\nRUN psql --version\n</code></pre>\n<p>When I run <code>docker build .</code> I don't see any output from these two commands even if they are not cached. The documentation says that <code>docker build</code> is verbose by default. Why am I not seeing the output from commands? I used to see them before.</p>\n<p>The output while building:</p>\n<pre><code>=&gt; [7/18] RUN echo &quot;hello world&quot;                         0.9s\n</code></pre>\n<p>The output I am seeing after building finishes:</p>\n<pre><code>=&gt; CACHED [6/18] RUN apt-get install postgresql -y      0.0s\n=&gt; [7/18] RUN echo &quot;hello world&quot;                        6.4s\n=&gt; [8/18] RUN psql --version                           17.1s\n</code></pre>\n<p>The <code>Dockerfile</code> is created from node:12.18.0 which is based on Debian 9.</p>\n<p>Docker version 19.03.13, build 4484c46d9d.</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 1726820, "reputation": 7067, "user_id": 1581295, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f2e3c38e2be6d3b7fc4088d255914780?s=256&d=identicon&r=PG", "display_name": "guillaume", "link": "https://stackoverflow.com/users/1581295/guillaume"}, "is_answered": true, "view_count": 645044, "accepted_answer_id": 28769950, "answer_count": 21, "score": 518, "last_activity_date": 1698381254, "creation_date": 1424874852, "last_edit_date": 1537046847, "question_id": 28721699, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/28721699/root-password-inside-a-docker-container", "title": "Root password inside a Docker container", "body": "<p>I'm using a Docker image which was built using the USER command to use a non-root user called <code>dev</code>.\nInside a container, I'm \"dev\", but I want to edit the <code>/etc/hosts</code> file.</p>\n\n<p>So I need to be root. I'm trying the su command, but I'm asked to enter the root password.</p>\n\n<p>What's the default root user's password inside a Docker container?</p>\n"}, {"tags": ["docker", "sudo", "linux-containers"], "owner": {"account_id": 5032189, "reputation": 15581, "user_id": 4042051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0034b5b68abfb84f330026c40548085d?s=256&d=identicon&r=PG", "display_name": "drubb", "link": "https://stackoverflow.com/users/4042051/drubb"}, "is_answered": true, "view_count": 764055, "accepted_answer_id": 25908200, "answer_count": 14, "score": 515, "last_activity_date": 1721427760, "creation_date": 1410775655, "last_edit_date": 1523124799, "question_id": 25845538, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/25845538/how-to-use-sudo-inside-a-docker-container", "title": "How to use sudo inside a docker container?", "body": "<p>Normally, docker containers are run using the user <strong>root</strong>. I'd like to use a different user, which is no problem using docker's USER directive. But this user should be able to use <strong>sudo</strong> inside the container. This command is missing.</p>\n\n<p>Here's a simple Dockerfile for this purpose:</p>\n\n<pre><code>FROM ubuntu:12.04\n\nRUN useradd docker &amp;&amp; echo \"docker:docker\" | chpasswd\nRUN mkdir -p /home/docker &amp;&amp; chown -R docker:docker /home/docker\n\nUSER docker\nCMD /bin/bash\n</code></pre>\n\n<p>Running this container, I get logged in with user 'docker'. When I try to use sudo, the command isn't found. So I tried to install the <em>sudo</em> package inside my Dockerfile using </p>\n\n<pre><code>RUN apt-get install sudo\n</code></pre>\n\n<p>This results in <em>Unable to locate package sudo</em></p>\n"}, {"tags": ["ssh-keys", "docker"], "owner": {"account_id": 891933, "reputation": 6719, "user_id": 930005, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/93bc49a27fd77fc1b2d0db13744faeb1?s=256&d=identicon&r=PG", "display_name": "ebensing", "link": "https://stackoverflow.com/users/930005/ebensing"}, "is_answered": true, "view_count": 606748, "accepted_answer_id": 18138352, "answer_count": 36, "score": 513, "last_activity_date": 1726064746, "creation_date": 1375996980, "last_edit_date": 1513936444, "question_id": 18136389, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/18136389/using-ssh-keys-inside-docker-container", "title": "Using SSH keys inside docker container", "body": "<p>I have an app that executes various fun stuff with Git (like running git clone &amp; git push) and I'm trying to docker-ize it.</p>\n\n<p>I'm running into an issue though where I need to be able to add an SSH key to the container for the container 'user' to use.</p>\n\n<p>I tried copying it into <code>/root/.ssh/</code>, changing <code>$HOME</code>, creating a git ssh wrapper, and still no luck. </p>\n\n<p>Here is the Dockerfile for reference:</p>\n\n<pre><code>#DOCKER-VERSION 0.3.4                                                           \n\nfrom  ubuntu:12.04                                                              \n\nRUN  apt-get update                                                             \nRUN  apt-get install python-software-properties python g++ make git-core openssh-server -y\nRUN  add-apt-repository ppa:chris-lea/node.js                                   \nRUN  echo \"deb http://archive.ubuntu.com/ubuntu precise universe\" &gt;&gt; /etc/apt/sources.list\nRUN  apt-get update                                                             \nRUN  apt-get install nodejs -y                                                  \n\nADD . /src                                                                       \nADD ../../home/ubuntu/.ssh/id_rsa /root/.ssh/id_rsa                             \nRUN   cd /src; npm install                                                      \n\nEXPOSE  808:808                                                                 \n\nCMD   [ \"node\", \"/src/app.js\"]\n</code></pre>\n\n<p><code>app.js</code> runs the git commands like <code>git pull</code></p>\n"}, {"tags": ["linux", "docker", "x11", "sandbox", "vnc"], "owner": {"account_id": 8670, "reputation": 75379, "user_id": 15721, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4f5c51f41af7b385236610802a5e50b2?s=256&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/15721/will"}, "is_answered": true, "view_count": 437178, "protected_date": 1411866435, "accepted_answer_id": 16311264, "answer_count": 24, "score": 513, "last_activity_date": 1697394491, "creation_date": 1367314854, "last_edit_date": 1622744168, "question_id": 16296753, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/16296753/can-you-run-gui-applications-in-a-linux-docker-container", "title": "Can you run GUI applications in a Linux Docker container?", "body": "<p>How can you run GUI applications in a Linux <a href=\"http://www.docker.io\" rel=\"noreferrer\">Docker</a> container?</p>\n<p>Are there any images that set up <code>vncserver</code> or something so that you can - for example - add an extra speedbump sandbox around say Firefox?</p>\n"}, {"tags": ["mysql", "docker", "apple-silicon"], "owner": {"account_id": 998595, "reputation": 6092, "user_id": 1013946, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5ccc0a595eb4a633a508c05d2d33a304?s=256&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/1013946/sam"}, "is_answered": true, "view_count": 500344, "accepted_answer_id": 65592942, "answer_count": 25, "score": 507, "last_activity_date": 1706060204, "creation_date": 1608988820, "question_id": 65456814, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/65456814/docker-apple-silicon-m1-preview-mysql-no-matching-manifest-for-linux-arm64-v8", "title": "Docker (Apple Silicon/M1 Preview) MySQL &quot;no matching manifest for linux/arm64/v8 in the manifest list entries&quot;", "body": "<p>I'm running the latest build of the <a href=\"https://www.docker.com/blog/download-and-try-the-tech-preview-of-docker-desktop-for-m1/\" rel=\"noreferrer\">Docker Apple Silicon Preview.</a> I created the tutorial container/images and it works fine. When I went to create a custom YAML file and run docker-compose I get the following error when pulling mysql:</p>\n<p>ERROR: no matching manifest for linux/arm64/v8 in the manifest list entries</p>\n<p>Here is a snippet from my YAMl file:</p>\n<pre><code>version: '3'\n\nservices:\n  # Database\n  db:\n    image: mysql-server:5.7\n    volumes:\n      - db_data:/var/lib/mysql\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: pass\n      MYSQL_DATABASE: wp\n      MYSQL_USER: wp\n      MYSQL_PASSWORD: wp\n    networks:\n      - wpsite \n</code></pre>\n<p>I've tried :latest and :8 which result in the same error. It pulls phpmyadmin and wordpress fine.</p>\n"}, {"tags": ["docker", "docker-compose"], "owner": {"account_id": 1280932, "reputation": 18724, "user_id": 1235039, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/230bedd1687c5c8690bed7c87c5942e4?s=256&d=identicon&r=PG", "display_name": "aquavitae", "link": "https://stackoverflow.com/users/1235039/aquavitae"}, "is_answered": true, "view_count": 502402, "accepted_answer_id": 30234588, "answer_count": 10, "score": 507, "last_activity_date": 1679979953, "creation_date": 1431593574, "question_id": 30233105, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/30233105/docker-compose-up-for-only-certain-containers", "title": "docker-compose up for only certain containers", "body": "<p>I have a <code>docker-compose.yml</code> which contain several containers.  Three of them are for my app (client, server and database) and the rest are for various dev tools (e.g. psql, npm, manage.py, etc).  When I do <code>docker-compose up</code> all of them are started, but I only want the three main ones to start.  Because of the links I've specified, I can start just those three with <code>docker-compose up client</code> but then the output is only from that one container. So, is there a way to do one of the following:</p>\n\n<ol>\n<li>Tell docker-compose which containers should by started by <code>docker-compose up</code></li>\n<li>Get output from all linked containers from <code>docker-compose up client</code></li>\n</ol>\n"}, {"tags": ["docker", "ubuntu-14.04"], "owner": {"account_id": 2821136, "reputation": 6193, "user_id": 2424871, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9643245d40e242c4afe06df20d1330ee?s=256&d=identicon&r=PG", "display_name": "Developer", "link": "https://stackoverflow.com/users/2424871/developer"}, "is_answered": true, "view_count": 374363, "closed_date": 1673441546, "accepted_answer_id": 27273543, "answer_count": 11, "score": 506, "last_activity_date": 1721668831, "creation_date": 1417614637, "last_edit_date": 1467474351, "question_id": 27273412, "link": "https://stackoverflow.com/questions/27273412/cannot-install-packages-inside-docker-ubuntu-image", "closed_reason": "Not suitable for this site", "title": "Cannot install packages inside docker Ubuntu image", "body": "<p>I installed Ubuntu 14.04 image on docker. After that, when I try to install packages inside the ubuntu image, I'm getting unable to locate package error: </p>\n\n<pre><code>apt-get install curl\n\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nE: Unable to locate package curl\n</code></pre>\n\n<p>How to fix this error?</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 2376663, "reputation": 5143, "user_id": 2079798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40dc4a1e294f1296b30eff2fff6e6cae?s=256&d=identicon&r=PG", "display_name": "reberhardt", "link": "https://stackoverflow.com/users/2079798/reberhardt"}, "is_answered": true, "view_count": 572506, "protected_date": 1564592802, "closed_date": 1718821796, "accepted_answer_id": 19905563, "answer_count": 15, "score": 504, "last_activity_date": 1677658752, "creation_date": 1384135256, "last_edit_date": 1489325196, "question_id": 19897743, "link": "https://stackoverflow.com/questions/19897743/exposing-a-port-on-a-live-docker-container", "closed_reason": "Duplicate", "title": "Exposing a port on a live Docker container", "body": "<p>I'm trying to create a Docker container that acts like a full-on virtual machine. I know I can use the EXPOSE instruction inside a Dockerfile to expose a port, and I can use the <code>-p</code> flag with <code>docker run</code> to assign ports, but once a container is actually running, is there a command to open/map additional ports live?</p>\n\n<p>For example, let's say I have a Docker container that is running sshd. Someone else using the container ssh's in and installs httpd. Is there a way to expose port 80 on the container and map it to port 8080 on the host, so that people can visit the web server running in the container, without restarting it?</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 1240933, "reputation": 77706, "user_id": 1203556, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/aca772bc8ed79a86894211c7efd920aa?s=256&d=identicon&r=PG", "display_name": "Tampa", "link": "https://stackoverflow.com/users/1203556/tampa"}, "is_answered": true, "view_count": 405084, "protected_date": 1532954319, "accepted_answer_id": 28997256, "answer_count": 17, "score": 501, "last_activity_date": 1664112695, "creation_date": 1426106421, "last_edit_date": 1627133494, "question_id": 28996907, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/28996907/docker-build-requires-1-argument-see-docker-build-help", "title": "docker: &quot;build&quot; requires 1 argument. See &#39;docker build --help&#39;", "body": "<p>Trying to follow the instructions for building a docker image from the docker website.</p>\n\n<p><a href=\"https://docs.docker.com/examples/running_redis_service/\">https://docs.docker.com/examples/running_redis_service/</a></p>\n\n<p>this is the error I get will following the instructions on the doc and using this Dockerfile</p>\n\n<pre><code>FROM        ubuntu:14.04\nRUN         apt-get update &amp;&amp; apt-get install -y redis-server\nEXPOSE      6379\nENTRYPOINT  [\"/usr/bin/redis-server\"]\n\n\nsudo docker build -t myrepo/redis\ndocker: \"build\" requires 1 argument. See 'docker build --help'.\n</code></pre>\n\n<p>How do  resolve?</p>\n"}, {"tags": ["python", "docker", "ubuntu-14.04"], "owner": {"account_id": 11138885, "reputation": 9879, "user_id": 8176285, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/51535938bd9cf87d44432562af9eb914?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "Ryan ", "link": "https://stackoverflow.com/users/8176285/ryan"}, "is_answered": true, "view_count": 732594, "answer_count": 28, "score": 494, "last_activity_date": 1724700426, "creation_date": 1553343250, "last_edit_date": 1721207180, "question_id": 55313610, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/55313610/importerror-libgl-so-1-cannot-open-shared-object-file-no-such-file-or-directo", "title": "ImportError: libGL.so.1: cannot open shared object file: No such file or directory", "body": "\n<p>I am trying to run cv2, but when I try to import it, I get the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ImportError: libGL.so.1: cannot open shared object file: No such file or directory\n</code></pre>\n<p>My suggested solution online is to install</p>\n<pre class=\"lang-none prettyprint-override\"><code>apt install libgl1-mesa-glx\n</code></pre>\n<p>but this is already installed and the latest version.</p>\n<p>NB: I am actually running this on Docker, and I am not able to check the OpenCV version. I tried importing matplotlib and that imports fine.</p>\n"}, {"tags": ["docker", "docker-compose"], "owner": {"account_id": 1930133, "reputation": 5363, "user_id": 1739713, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/122c4813a30ed0db6bed303c7893d79d?s=256&d=identicon&r=PG", "display_name": "Dmitry z", "link": "https://stackoverflow.com/users/1739713/dmitry-z"}, "is_answered": true, "view_count": 866144, "accepted_answer_id": 34129973, "answer_count": 20, "score": 491, "last_activity_date": 1710900551, "creation_date": 1427833391, "last_edit_date": 1676597436, "question_id": 29377853, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/29377853/how-can-i-use-environment-variables-in-docker-compose", "title": "How can I use environment variables in docker-compose?", "body": "<p>I would like to be able to use environment variables inside <em>docker-compose.yml</em>, with values passed in at the time of <code>docker-compose up</code>. This is the example.</p>\n<p>I am doing this today with a basic <code>docker run</code> command, which is wrapped around my own script. Is there a way to achieve it with compose, without any such bash wrappers?</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>proxy:\n  hostname: $hostname\n  volumes:\n    - /mnt/data/logs/$hostname:/logs\n    - /mnt/data/$hostname:/data\n</code></pre>\n"}, {"tags": ["docker", "docker-compose"], "owner": {"account_id": 1260984, "reputation": 10988, "user_id": 1219280, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/fded734fdc8e94cb19a184c528a0d9ae?s=256&d=identicon&r=PG", "display_name": "Veverke", "link": "https://stackoverflow.com/users/1219280/veverke"}, "is_answered": true, "view_count": 188413, "accepted_answer_id": 66526176, "answer_count": 10, "score": 490, "last_activity_date": 1726048705, "creation_date": 1615104654, "last_edit_date": 1678952705, "question_id": 66514436, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/66514436/difference-between-docker-compose-and-docker-compose", "title": "Difference between &quot;docker compose&quot; and &quot;docker-compose&quot;", "body": "<hr />\n<p><strong>Note</strong>: this question was created BEFORE docker docs were updated (it was the reason they were updated - see <a href=\"https://stackoverflow.com/a/66526176/1219280\">this</a> answer). <strong>Please do not post answers pointing out the docs on the differences</strong> :-)</p>\n<hr />\n<p>I have been using <code>docker-compose</code>, but noticed there is also a <code>docker compose</code> (without the dash).<br>\nI have not been able to quickly determine the differences between the two forms by googling.</p>\n<p>Anyone?</p>\n<p><code>docker compose</code>'s help:</p>\n<p><a href=\"https://i.sstatic.net/QG8a0.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/QG8a0.png\" alt=\"enter image description here\" /></a></p>\n<p><code>docker-compose</code>'s help:</p>\n<p><a href=\"https://i.sstatic.net/CSqa8.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/CSqa8.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["windows", "docker", "docker-desktop"], "owner": {"account_id": 82452, "reputation": 15902, "user_id": 231821, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d5bed99fd1db8db24640148a5032a47?s=256&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/231821/jim"}, "is_answered": true, "view_count": 1246088, "protected_date": 1529699187, "answer_count": 59, "score": 489, "last_activity_date": 1720519062, "creation_date": 1478501185, "last_edit_date": 1709189450, "question_id": 40459280, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/40459280/docker-cannot-start-on-windows", "title": "Docker cannot start on Windows", "body": "<p>Executing <code>docker version</code> command on <strong>Windows</strong> returns the following results:</p>\n<pre><code>C:\\Projects&gt; docker version\nClient:\n Version:      1.13.0-dev\n API version:  1.25\n Go version:   go1.7.3\n Git commit:   d8d3314\n Built:        Tue Nov  1 03:05:34 2016\n OS/Arch:      windows/amd64\nerror during connect: Get http://%2F%2F.%2Fpipe%2Fdocker_engine/v1.25/version: open //./pipe/docker_engine: The system cannot find the file\nspecified. In the default daemon configuration on Windows, the docker client must be run elevated to connect. This error may also indicate that the docker daemon is not running.\n</code></pre>\n<p>Running the diagnostics produces the following:</p>\n<pre><code>C:\\Projects&gt; wget https://github.com/Microsoft/Virtualization- \nDocumentation/raw/master/windows-server-container-tools/Debug- \nContainerHost/Debug-ContainerHost.ps1 -UseBasicParsin | iex\n\nChecking for common problems\nDescribing Windows Version and Prerequisites\n [+] Is Windows 10 Anniversary Update or Windows Server 2016 608ms\n [+] Has KB3192366, KB3194496, or later installed if running Windows build 14393 141ms\n [+] Is not a build with blocking issues 29ms\nDescribing Docker is installed\n [-] A Docker service is installed - 'Docker' or 'com.Docker.Service'  134ms\n   Expected: value to not be empty\n   27:         $services | Should Not BeNullOrEmpty\n   at &lt;ScriptBlock&gt;, &lt;No file&gt;: line 27\n [+] Service is running 127ms\n [+] Docker.exe is in path 2.14s\nDescribing User has permissions to use Docker daemon\n [+] docker.exe should not return access denied 42ms\nDescribing Windows container settings are correct\n [-] Do not have DisableVSmbOplock set to 1 53ms\n   Expected: {0}\n   But was:  {1}\n   66:              $regvalue.VSmbDisableOplocks | Should Be 0\n   at &lt;ScriptBlock&gt;, &lt;No file&gt;: line 66\n [+] Do not have zz values set 42ms\nDescribing The right container base images are installed\nerror during connect: Get http://%2F%2F.%2Fpipe%2Fdocker_engine/v1.25/images/json: open //./pipe/docker_engine: The system cannot find the file specified. In the default daemon configuration on Windows, the docker client must be run elevated to connect. This error may also indicate that the docker daemon is not running.\n [-] At least one of 'microsoft/windowsservercore' or 'microsoft/nanoserver' should be installed 129ms\n   ValidationMetadataException: The argument is null or empty. Provide an argument that is not null or empty, and then try the command again.\n   ParameterBindingValidationException: Cannot validate argument on parameter 'Property'. The argument is null or empty. Provide an argument that is not null or empty, and then try the command again.\n   at &lt;ScriptBlock&gt;, &lt;No file&gt;: line 90\nDescribing Container network is created\n [-] Error occurred in Describe block 1.08s\n   RuntimeException: Cannot index into a null array.\n   at &lt;ScriptBlock&gt;, &lt;No file&gt;: line 119\nShowing output from: docker info\n\nShowing output from: docker version\nClient:\n Version:      1.13.0-dev\n API version:  1.25\n Go version:   go1.7.3\n Git commit:   d8d3314\n Built:        Tue Nov  1 03:05:34 2016\n OS/Arch:      windows/amd64\n\nShowing output from: docker network ls\n\nWarnings &amp; errors from the last 24 hours\nLogs saved to C:\\Projects\\logs_20161107-084122.csv\nC:\\Projects&gt;\n</code></pre>\n"}, {"tags": ["docker"], "owner": {"account_id": 1565977, "reputation": 10248, "user_id": 1454775, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8e60677f62df3332acf530c7702bf543?s=256&d=identicon&r=PG", "display_name": "mskw", "link": "https://stackoverflow.com/users/1454775/mskw"}, "is_answered": true, "view_count": 172761, "accepted_answer_id": 46138763, "answer_count": 6, "score": 482, "last_activity_date": 1707663288, "creation_date": 1452751448, "last_edit_date": 1511855971, "question_id": 34782678, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/34782678/difference-between-running-and-starting-a-docker-container", "title": "Difference between Running and Starting a Docker container", "body": "<p>In practice to <strong>start</strong> a container I do:</p>\n\n<pre><code>docker run a8asd8f9asdf0\n</code></pre>\n\n<p>If thats the case, what does:</p>\n\n<pre><code>docker start\n</code></pre>\n\n<p>do?</p>\n\n<p>In the manual it says</p>\n\n<blockquote>\n  <p>Start one or more stopped containers</p>\n</blockquote>\n"}, {"tags": ["debugging", "docker", "cpanm"], "owner": {"account_id": 7289, "reputation": 6069, "user_id": 2386199, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/bbe78fbec992815b533601243b126fcc?s=256&d=identicon&r=PG", "display_name": "Altreus", "link": "https://stackoverflow.com/users/2386199/altreus"}, "is_answered": true, "view_count": 231793, "accepted_answer_id": 26222636, "answer_count": 11, "score": 479, "last_activity_date": 1700061991, "creation_date": 1412614219, "last_edit_date": 1674136964, "question_id": 26220957, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/26220957/how-can-i-inspect-the-file-system-of-a-failed-docker-build", "title": "How can I inspect the file system of a failed `docker build`?", "body": "<p>I'm trying to build a new Docker image for our development process, using <code>cpanm</code> to install a bunch of Perl modules as a base image for various projects.</p>\n<p>While developing the Dockerfile, <code>cpanm</code> returns a failure code because some of the modules did not install cleanly.</p>\n<p>I'm fairly sure I need to get <code>apt</code> to install some more things.</p>\n<p>Where can I find the <code>/.cpanm/work</code> directory quoted in the output, in order to inspect the logs? In the general case, how can I inspect the file system of a failed <code>docker build</code> command?</p>\n<p>After running a <code>find</code> I discovered</p>\n<pre><code>/var/lib/docker/aufs/diff/3afa404e[...]/.cpanm\n</code></pre>\n<p>Is this reliable, or am I better off building a &quot;bare&quot; container and running stuff manually until I have all the things I need?</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 908160, "reputation": 14921, "user_id": 942635, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.sstatic.net/N2ggY.jpg?s=256", "display_name": "mtmacdonald", "link": "https://stackoverflow.com/users/942635/mtmacdonald"}, "is_answered": true, "view_count": 481876, "accepted_answer_id": 25268154, "answer_count": 13, "score": 477, "last_activity_date": 1709656022, "creation_date": 1407854880, "question_id": 25267372, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/25267372/correct-way-to-detach-from-a-container-without-stopping-it", "title": "Correct way to detach from a container without stopping it", "body": "<p>In Docker 1.1.2 (latest), what's the correct way to detach from a container without stopping it?</p>\n\n<p>So for example, if I try:</p>\n\n<ul>\n<li><code>docker run -i -t foo /bin/bash</code> or</li>\n<li><code>docker attach foo</code> (for already running container)</li>\n</ul>\n\n<p>both of which get me to a terminal in the container, how do I exit the container's terminal without stopping it?</p>\n\n<p><code>exit</code> and <code>CTR+C</code> both stop the container.</p>\n"}, {"tags": ["logging", "docker"], "owner": {"account_id": 3073684, "reputation": 4891, "user_id": 2603634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28e9f90c53b99a2829ad1222ee4b978a?s=256&d=identicon&r=PG", "display_name": "user2603634", "link": "https://stackoverflow.com/users/2603634/user2603634"}, "is_answered": true, "view_count": 466426, "answer_count": 14, "score": 477, "last_activity_date": 1684787152, "creation_date": 1434921518, "question_id": 30969435, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/30969435/where-is-the-docker-daemon-log", "title": "Where is the Docker daemon log?", "body": "<p>Where is the Docker daemon log? Oddly cannot find an answer to this via man, StackOverflow or Docker Docs. Note I am not asking for the docker container STDOUT, but the daemon log for troubleshooting communications between the client and container via daemon / proxy.  </p>\n"}, {"tags": ["bash", "docker", "shell"], "owner": {"account_id": 19476, "reputation": 11472, "user_id": 45698, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a802210cc39f5ea67135181a8d61aa11?s=256&d=identicon&r=PG", "display_name": "Hugo Rodger-Brown", "link": "https://stackoverflow.com/users/45698/hugo-rodger-brown"}, "is_answered": true, "view_count": 494154, "answer_count": 19, "score": 471, "last_activity_date": 1720692301, "creation_date": 1387286974, "last_edit_date": 1703254112, "question_id": 20635472, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/20635472/using-the-run-instruction-in-a-dockerfile-with-source-does-not-work", "title": "Using the RUN instruction in a Dockerfile with &#39;source&#39; does not work", "body": "<p>I have a Dockerfile that I am putting together to install a vanilla python environment (into which I will be installing an app, but at a later date).</p>\n\n<pre><code>FROM ubuntu:12.04\n\n# required to build certain python libraries\nRUN apt-get install python-dev -y\n\n# install pip - canonical installation instructions from pip-installer.org\n# http://www.pip-installer.org/en/latest/installing.html\nADD https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py /tmp/ez_setup.py\nADD https://raw.github.com/pypa/pip/master/contrib/get-pip.py /tmp/get-pip.py\nRUN python /tmp/ez_setup.py\nRUN python /tmp/get-pip.py\nRUN pip install --upgrade pip \n\n# install and configure virtualenv\nRUN pip install virtualenv \nRUN pip install virtualenvwrapper\nENV WORKON_HOME ~/.virtualenvs\nRUN mkdir -p $WORKON_HOME\nRUN source /usr/local/bin/virtualenvwrapper.sh\n</code></pre>\n\n<p>The build runs ok until the last line, where I get the following exception:</p>\n\n<pre><code>[previous steps 1-9 removed for clarity]\n...\nSuccessfully installed virtualenvwrapper virtualenv-clone stevedore\nCleaning up...\n ---&gt; 1fc253a8f860\nStep 10 : ENV WORKON_HOME ~/.virtualenvs\n ---&gt; Running in 8b0145d2c80d\n ---&gt; 0f91a5d96013\nStep 11 : RUN mkdir -p $WORKON_HOME\n ---&gt; Running in 9d2552712ddf\n ---&gt; 3a87364c7b45\nStep 12 : RUN source /usr/local/bin/virtualenvwrapper.sh\n ---&gt; Running in c13a187261ec\n/bin/sh: 1: source: not found\n</code></pre>\n\n<p>If I <code>ls</code> into that directory (just to test that the previous steps were committed) I can see that the files exist as expected:</p>\n\n<pre><code>$ docker run 3a87 ls /usr/local/bin\neasy_install\neasy_install-2.7\npip\npip-2.7\nvirtualenv\nvirtualenv-2.7\nvirtualenv-clone\nvirtualenvwrapper.sh\nvirtualenvwrapper_lazy.sh\n</code></pre>\n\n<p>If I try just running the <code>source</code> command I get the same 'not found' error as above. If I RUN an interactive shell session however, source does work:</p>\n\n<pre><code>$ docker run 3a87 bash\nsource\nbash: line 1: source: filename argument required\nsource: usage: source filename [arguments]\n</code></pre>\n\n<p>I can run the script from here, and then happily access <code>workon</code>, <code>mkvirtualenv</code> etc.</p>\n\n<p>I've done some digging, and initially it looked as if the problem might lie in the difference between <strong>bash</strong> as the Ubuntu <em>login shell</em>, and <strong>dash</strong> as the Ubuntu <em>system shell</em>, <strong>dash</strong> not supporting the <code>source</code> command.</p>\n\n<p>However, the answer to this appears to be to use <strong>'.'</strong> instead of <code>source</code>, but this just causes the Docker runtime to blow up with a go panic exception.</p>\n\n<p>What is the best way to run a shell script from a Dockerfile RUN instruction to get around this (am running off the default base image for Ubuntu 12.04 LTS).</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 1848444, "reputation": 21968, "user_id": 1675586, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.sstatic.net/IREsZ.jpg?s=256", "display_name": "iman", "link": "https://stackoverflow.com/users/1675586/iman"}, "is_answered": true, "view_count": 348633, "accepted_answer_id": 19586345, "answer_count": 11, "score": 466, "last_activity_date": 1573816761, "creation_date": 1382690190, "last_edit_date": 1554273609, "question_id": 19585028, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/19585028/i-lose-my-data-when-the-container-exits", "title": "I lose my data when the container exits", "body": "<p>Despite Docker's <a href=\"http://www.docker.io/gettingstarted/\" rel=\"noreferrer\">Interactive tutorial</a> and <a href=\"http://docs.docker.io/en/latest/faq/#do-i-lose-my-data-when-the-container-exits\" rel=\"noreferrer\">faq</a> I lose my data when the container exits.</p>\n\n<p>I have installed Docker as described here: <a href=\"http://docs.docker.io/en/latest/installation/ubuntulinux\" rel=\"noreferrer\">http://docs.docker.io/en/latest/installation/ubuntulinux</a>\nwithout any problem on ubuntu 13.04.</p>\n\n<p>But it loses all data when exits.</p>\n\n<pre><code>iman@test:~$ sudo docker version\nClient version: 0.6.4 \nGo version (client): go1.1.2 \nGit commit (client): 2f74b1c \nServer version: 0.6.4 \nGit commit (server): 2f74b1c \nGo version (server): go1.1.2 \nLast stable version: 0.6.4 \n\n\niman@test:~$ sudo docker run ubuntu ping\n2013/10/25 08:05:47 Unable to locate ping \niman@test:~$ sudo docker run ubuntu apt-get install ping\nReading package lists... \nBuilding dependency tree... \nThe following NEW packages will be installed: \n  iputils-ping \n0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded. \nNeed to get 56.1 kB of archives. \nAfter this operation, 143 kB of additional disk space will be used. \nGet:1 http://archive.ubuntu.com/ubuntu/ precise/main iputils-ping amd64 3:20101006-1ubuntu1 [56.1 kB] \ndebconf: delaying package configuration, since apt-utils is not installed \nFetched 56.1 kB in 0s (195 kB/s) \nSelecting previously unselected package iputils-ping. \n(Reading database ... 7545 files and directories currently installed.) \nUnpacking iputils-ping (from .../iputils-ping_3%3a20101006-1ubuntu1_amd64.deb) ... \nSetting up iputils-ping (3:20101006-1ubuntu1) ... \niman@test:~$ sudo docker run ubuntu ping\n2013/10/25 08:06:11 Unable to locate ping \niman@test:~$ sudo docker run ubuntu touch /home/test\niman@test:~$ sudo docker run ubuntu ls /home/test\nls: cannot access /home/test: No such file or directory \n</code></pre>\n\n<p>I also tested it with interactive sessions with the same result. Did I forget something?</p>\n\n<h2>EDIT: IMPORTANT FOR NEW DOCKER USERS</h2>\n\n<p>As @mohammed-noureldin and others said, actually this is <strong>NOT</strong> a <strong>container exiting</strong>. Every time it just creates a new container.</p>\n"}, {"tags": ["docker"], "owner": {"account_id": 3189466, "reputation": 22804, "user_id": 2694184, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e40d8bf08cca1b1da430ee89eaeb1d0b?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "Gibbs", "link": "https://stackoverflow.com/users/2694184/gibbs"}, "is_answered": true, "view_count": 678399, "accepted_answer_id": 28214133, "answer_count": 21, "score": 466, "last_activity_date": 1714477229, "creation_date": 1422527421, "last_edit_date": 1485918074, "question_id": 28212380, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/28212380/why-docker-container-exits-immediately", "title": "Why docker container exits immediately", "body": "<p>I run a container in the background using</p>\n\n<pre><code> docker run -d --name hadoop h_Service\n</code></pre>\n\n<p>it exits quickly. But if I run in the foreground, it works fine. I checked logs using</p>\n\n<pre><code>docker logs hadoop\n</code></pre>\n\n<p>there was no error. Any ideas?</p>\n\n<p><strong>DOCKERFILE</strong></p>\n\n<pre><code> FROM java_ubuntu_new\n RUN wget http://archive.cloudera.com/cdh4/one-click-install/precise/amd64/cdh4-repository_1.0_all.deb\n RUN dpkg -i cdh4-repository_1.0_all.deb\n RUN curl -s http://archive.cloudera.com/cdh4/ubuntu/precise/amd64/cdh/archive.key | apt-key add -\n RUN  apt-get update\n RUN apt-get install -y hadoop-0.20-conf-pseudo\n RUN dpkg -L hadoop-0.20-conf-pseudo\n USER hdfs\n RUN hdfs namenode -format\n USER root\n RUN apt-get install -y sudo\n ADD . /usr/local/\n RUN chmod 777 /usr/local/start-all.sh\n CMD [\"/usr/local/start-all.sh\"]\n</code></pre>\n\n<p>start-all.sh</p>\n\n<pre><code> #!/usr/bin/env bash\n /etc/init.d/hadoop-hdfs-namenode start\n /etc/init.d/hadoop-hdfs-datanode start\n /etc/init.d/hadoop-hdfs-secondarynamenode start\n /etc/init.d/hadoop-0.20-mapreduce-tasktracker start\n sudo -u hdfs hadoop fs -chmod 777 /\n /etc/init.d/hadoop-0.20-mapreduce-jobtracker start\n /bin/bash\n</code></pre>\n"}, {"tags": ["docker"], "owner": {"account_id": 50319, "reputation": 11923, "user_id": 150050, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/a3036a782fc6c728ec1eba30e7b73b34?s=256&d=identicon&r=PG", "display_name": "aaa90210", "link": "https://stackoverflow.com/users/150050/aaa90210"}, "is_answered": true, "view_count": 427854, "accepted_answer_id": 39329138, "answer_count": 14, "score": 466, "last_activity_date": 1707661129, "creation_date": 1441196598, "last_edit_date": 1707661129, "question_id": 32353055, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/32353055/how-to-start-a-stopped-docker-container-with-a-different-command", "title": "How to start a stopped Docker container with a different command?", "body": "<p>I would like to start a stopped Docker container with a different command, as the default command crashes - meaning I can't start the container and then use <code>docker exec</code> command.</p>\n<p>Basically I would like to start a shell so I can inspect the contents of the container.</p>\n<p>Luckily I created the container with the <code>-it</code> option!</p>\n"}, {"tags": ["bash", "docker", "shell", "dockerfile", "alpine-linux"], "owner": {"account_id": 6200454, "reputation": 5935, "user_id": 4830460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.sstatic.net/zmAnw.png?s=256", "display_name": "iamdeit", "link": "https://stackoverflow.com/users/4830460/iamdeit"}, "is_answered": true, "view_count": 444685, "accepted_answer_id": 40944512, "answer_count": 8, "score": 461, "last_activity_date": 1701073620, "creation_date": 1480742058, "last_edit_date": 1668832152, "question_id": 40944479, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/40944479/docker-how-to-use-bash-with-an-alpine-based-docker-image", "title": "Docker: How to use bash with an Alpine based docker image?", "body": "<p>I created a docker image from <code>openjdk:8-jdk-alpine</code> and I want to use <code>bash</code>, rather than <code>sh</code> as my shell, however when I try to execute simple commands I get the following errors:</p>\n<pre><code>RUN bash\n/bin/sh: bash: not found\n\nRUN ./gradlew build\nenv: can't execute 'bash': No such file or directory\n</code></pre>\n"}, {"tags": ["docker", "docker-compose"], "owner": {"account_id": 263393, "reputation": 7262, "user_id": 548915, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ea46965fa63cdef4fc92d5b095e8b7cf?s=256&d=identicon&r=PG", "display_name": "Kristof Jozsa", "link": "https://stackoverflow.com/users/548915/kristof-jozsa"}, "is_answered": true, "view_count": 713919, "accepted_answer_id": 32618288, "answer_count": 11, "score": 457, "last_activity_date": 1684622471, "creation_date": 1442416689, "last_edit_date": 1486419265, "question_id": 32612650, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/32612650/how-to-get-docker-compose-to-always-re-create-containers-from-fresh-images", "title": "How to get docker-compose to always re-create containers from fresh images?", "body": "<p>My docker images are built on a Jenkins CI server and are pushed to our private Docker Registry. My goal is to provision environments with docker-compose which always start the originally built state of the images.</p>\n\n<p>I am currently using docker-compose 1.3.2 as well as 1.4.0 on different machines but we also used older versions previously. </p>\n\n<p>I always used the <code>docker-compose pull &amp;&amp; docker-compose up -d</code> commands to fetch the fresh images from the registry and start them up. I believe my preferred behaviour was working as expected up to a certain point in time, but since then <code>docker-compose up</code> started to re-run previously stopped containers instead of starting the originally built images every time. </p>\n\n<p>Is there a way to get rid of this behaviour? Could that way be one which is wired in the docker-compose.yml configuration file to not depend \"not forgetting\" something on the command line upon every invocation?</p>\n\n<p>ps. Besides finding a way to achieve my goal, I would also love to know a bit more about the background of this behaviour. I think the basic idea of Docker is to build an immutable infrastructure. The current behaviour of docker-compose just seem to plain clash with this approach.. or do I miss some points here? </p>\n"}, {"tags": ["docker", "build", "arguments"], "owner": {"account_id": 3408319, "reputation": 10753, "user_id": 2858871, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.sstatic.net/GwUqu.jpg?s=256", "display_name": "Emilien Brigand", "link": "https://stackoverflow.com/users/2858871/emilien-brigand"}, "is_answered": true, "view_count": 454397, "protected_date": 1617952703, "accepted_answer_id": 42297949, "answer_count": 7, "score": 455, "last_activity_date": 1707762908, "creation_date": 1487332664, "last_edit_date": 1545804784, "question_id": 42297387, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/42297387/docker-build-with-build-arg-with-multiple-arguments", "title": "docker build with --build-arg with multiple arguments", "body": "<p>According to the <a href=\"https://docs.docker.com/engine/reference/commandline/build/#set-build-time-variables-build-arg\" rel=\"noreferrer\">documentation</a>, it's possible to define multiple args for the flag <code>--build-arg</code>, but I can't find out how. I tried the following:</p>\n\n<pre><code>docker build -t essearch/ess-elasticsearch:1.7.6 --build-arg number_of_shards=5 number_of_replicas=2 --no-cache .\n</code></pre>\n\n<p>=> This returns an error.</p>\n\n<p>I also tried:</p>\n\n<pre><code>docker build -t essearch/ess-elasticsearch:1.7.6 --build-arg number_of_shards=5,number_of_replicas=2 --no-cache .\n</code></pre>\n\n<p>=> This sets one variable, <code>number_of_shards</code>, to the value \"5,number_of_replicas=2\"</p>\n\n<p>Any idea how I can define multiple arguments?</p>\n"}, {"tags": ["docker", "docker-compose", "dockerfile"], "owner": {"account_id": 7987372, "reputation": 4779, "user_id": 6026378, "user_type": "registered", "profile_image": "https://i.sstatic.net/2scta.png?s=256", "display_name": "itsjef", "link": "https://stackoverflow.com/users/6026378/itsjef"}, "is_answered": true, "view_count": 366825, "accepted_answer_id": 54251381, "answer_count": 4, "score": 450, "last_activity_date": 1633528215, "creation_date": 1457295853, "last_edit_date": 1513445082, "question_id": 35832095, "content_license": "CC BY-SA 3.0", "link": "https://stackoverflow.com/questions/35832095/difference-between-links-and-depends-on-in-docker-compose-yml", "title": "Difference between links and depends_on in docker_compose.yml", "body": "<p>According to the Docker Compose's <a href=\"https://docs.docker.com/compose/compose-file\" rel=\"noreferrer\">compose-file documentation</a>:</p>\n\n<ul>\n<li><code>depends_on</code> - Express dependency between services.</li>\n<li><code>links</code> - Link to containers in another service and also <strong>express dependency between services</strong> in the same way as <a href=\"https://docs.docker.com/compose/compose-file/#depends-on\" rel=\"noreferrer\">depends_on</a>.</li>\n</ul>\n\n<p>I don't understand the purpose of linking to other containers so the difference between two options still seems quite difficult for me.</p>\n\n<p>It would be much easier if there is an example, but I can't find any.</p>\n\n<p>I noticed, when I link container B with container A then container B will be \"pingable\" inside container A's shell.</p>\n\n<p>I ran <code>ping B</code> inside container A's <code>bash</code> and got result like this (just for reference, image from the Internet)</p>\n\n<p><a href=\"https://i.sstatic.net/DI9Io.jpg\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/DI9Io.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["docker", "kubernetes", "docker-compose"], "owner": {"account_id": 207907, "reputation": 13995, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=256&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "is_answered": true, "view_count": 146353, "protected_date": 1593365603, "accepted_answer_id": 47537046, "answer_count": 5, "community_owned_date": 1621342554, "score": 448, "locked_date": 1621342513, "last_activity_date": 1713496778, "creation_date": 1511886871, "last_edit_date": 1607616529, "question_id": 47536536, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/47536536/whats-the-difference-between-docker-compose-and-kubernetes", "title": "What&#39;s the difference between Docker Compose and Kubernetes?", "body": "<p>While diving into Docker, Google Cloud and Kubernetes, and without clearly understanding all three of them yet, it seems to me these products are overlapping, yet they're not compatible.</p>\n\n<p>For example, a <code>docker-compose.yml</code> file needs to be re-written so an app can be deployed to Kubernetes.</p>\n\n<p>Could someone provide a high-level, rough description of where Docker, Docker Compose, Docker Cloud, and Kubernetes overlap and where one is dependent on the other?</p>\n"}, {"tags": ["docker", "docker-compose", "orchestration"], "owner": {"account_id": 964481, "reputation": 10849, "user_id": 988174, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/79419ee7cd36652f1740394f65468073?s=256&d=identicon&r=PG&f=y&so-version=2", "display_name": "Robert", "link": "https://stackoverflow.com/users/988174/robert"}, "is_answered": true, "view_count": 526737, "answer_count": 12, "score": 438, "last_activity_date": 1706006009, "creation_date": 1440602492, "last_edit_date": 1528885677, "question_id": 32230577, "content_license": "CC BY-SA 4.0", "link": "https://stackoverflow.com/questions/32230577/how-do-i-define-the-name-of-image-built-with-docker-compose", "title": "How do I define the name of image built with docker-compose", "body": "<p>I'm using <a href=\"https://docs.docker.com/compose/yml/\" rel=\"noreferrer\"><strong>docker-compose</strong></a> to create my development environment. I want to build a specific image, but I don't know how to set a name for that image.</p>\n\n<pre><code>wildfly:\n  build: /path/to/dir/Dockerfile\n  container_name: wildfly_server\n  ports:\n   - 9990:9990\n   - 80:8080\n  environment:\n   - MYSQL_HOST=mysql_server\n   - MONGO_HOST=mongo_server\n   - ELASTIC_HOST=elasticsearch_server\n  volumes:\n   - /Volumes/CaseSensitive/development/wildfly/deployments/:/opt/jboss/wildfly/standalone/deployments/\n  links:\n   - mysql:mysql_server\n   - mongo:mongo_server\n   - elasticsearch:elasticsearch_server\n</code></pre>\n\n<p>When I execute <code>docker-compose</code> everything is ok, but I get a random name for the new image. Is it possible to set a name to the build image?</p>\n"}], "has_more": true, "quota_max": 300, "quota_remaining": 289}